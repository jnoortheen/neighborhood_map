!function(){var e=!0;!function(t){var n=this||(0,eval)("this"),i=n.document,o=n.navigator,r=n.jQuery,a=n.JSON;!function(e){"function"==typeof define&&define.amd?define(["exports","require"],e):e("object"==typeof exports&&"object"==typeof module?module.exports||exports:n.ko={})}(function(s,l){function u(e,t){var n=null===e||typeof e in y;return!!n&&e===t}function c(e,n){var i;return function(){i||(i=v.utils.setTimeout(function(){i=t,e()},n))}}function p(e,t){var n;return function(){clearTimeout(n),n=v.utils.setTimeout(e,t)}}function d(e){var t=this;return e&&v.utils.objectForEach(e,function(e,n){var i=v.extenders[e];"function"==typeof i&&(t=i(t,n)||t)}),t}function m(e,t){t&&t!==w?"beforeChange"===t?this._limitBeforeChange(e):this._origNotifySubscribers(e,t):this._limitChange(e)}function f(e,t){null!==t&&t.dispose&&t.dispose()}function h(e,t){var n=this.computedObservable,i=n[C];i.isDisposed||(this.disposalCount&&this.disposalCandidates[t]?(n.addDependencyTracking(t,e,this.disposalCandidates[t]),this.disposalCandidates[t]=null,--this.disposalCount):i.dependencyTracking[t]||n.addDependencyTracking(t,e,i.isSleeping?{_target:e}:n.subscribeToDependency(e)))}function g(e){v.bindingHandlers[e]={init:function(t,n,i,o,r){var a=function(){var t={};return t[e]=n(),t};return v.bindingHandlers.event.init.call(this,t,a,i,o,r)}}}function b(e,t,n,i){v.bindingHandlers[e]={init:function(e,o,r,a,s){var l,u;return v.computed(function(){var r=v.utils.unwrapObservable(o()),a=!n!=!r,c=!u,p=c||t||a!==l;p&&(c&&v.computedContext.getDependenciesCount()&&(u=v.utils.cloneNodes(v.virtualElements.childNodes(e),!0)),a?(c||v.virtualElements.setDomNodeChildren(e,v.utils.cloneNodes(u)),v.applyBindingsToDescendants(i?i(s,r):s,e)):v.virtualElements.emptyNode(e),l=a)},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},v.expressionRewriting.bindingRewriteValidators[e]=!1,v.virtualElements.allowedBindings[e]=!0}var v="undefined"!=typeof s?s:{};v.exportSymbol=function(e,t){for(var n=e.split("."),i=v,o=0;o<n.length-1;o++)i=i[n[o]];i[n[n.length-1]]=t},v.exportProperty=function(e,t,n){e[t]=n},v.version="3.4.0",v.exportSymbol("version",v.version),v.options={deferUpdates:!1,useOnlyNativeEvents:!1},v.utils=function(){function s(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function l(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function u(e,t){return e.__proto__=t,e}function c(e,t){if("input"!==v.utils.tagNameLower(e)||!e.type)return!1;if("click"!=t.toLowerCase())return!1;var n=e.type;return"checkbox"==n||"radio"==n}function p(e,t,n){var i;t&&("object"==typeof e.classList?(i=e.classList[n?"add":"remove"],v.utils.arrayForEach(t.match(S),function(t){i.call(e.classList,t)})):"string"==typeof e.className.baseVal?d(e.className,"baseVal",t,n):d(e,"className",t,n))}function d(e,t,n,i){var o=e[t].match(S)||[];v.utils.arrayForEach(n.match(S),function(e){v.utils.addOrRemoveItem(o,e,i)}),e[t]=o.join(" ")}var m={__proto__:[]}instanceof Array,f=!e&&"function"==typeof Symbol,h={},g={},b=o&&/Firefox\/2/i.test(o.userAgent)?"KeyboardEvent":"UIEvents";h[b]=["keyup","keydown","keypress"],h.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],s(h,function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)g[t[n]]=e});var y={propertychange:!0},w=i&&function(){for(var e=3,n=i.createElement("div"),o=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",o[0];);return e>4?e:t}(),x=6===w,E=7===w,S=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)},arrayIndexOf:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var i=0,o=e.length;i<o;i++)if(t.call(n,e[i],i))return e[i];return null},arrayRemoveItem:function(e,t){var n=v.utils.arrayIndexOf(e,t);n>0?e.splice(n,1):0===n&&e.shift()},arrayGetDistinctValues:function(e){e=e||[];for(var t=[],n=0,i=e.length;n<i;n++)v.utils.arrayIndexOf(t,e[n])<0&&t.push(e[n]);return t},arrayMap:function(e,t){e=e||[];for(var n=[],i=0,o=e.length;i<o;i++)n.push(t(e[i],i));return n},arrayFilter:function(e,t){e=e||[];for(var n=[],i=0,o=e.length;i<o;i++)t(e[i],i)&&n.push(e[i]);return n},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e},addOrRemoveItem:function(e,t,n){var i=v.utils.arrayIndexOf(v.utils.peekObservable(e),t);i<0?n&&e.push(t):n||e.splice(i,1)},canSetPrototype:m,extend:l,setPrototypeOf:u,setPrototypeOfOrExtend:m?u:l,objectForEach:s,objectMap:function(e,t){if(!e)return e;var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i],i,e));return n},emptyDomNode:function(e){for(;e.firstChild;)v.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){for(var t=v.utils.makeArray(e),n=t[0]&&t[0].ownerDocument||i,o=n.createElement("div"),r=0,a=t.length;r<a;r++)o.appendChild(v.cleanNode(t[r]));return o},cloneNodes:function(e,t){for(var n=0,i=e.length,o=[];n<i;n++){var r=e[n].cloneNode(!0);o.push(t?v.cleanNode(r):r)}return o},setDomNodeChildren:function(e,t){if(v.utils.emptyDomNode(e),t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},replaceDomNodes:function(e,t){var n=e.nodeType?[e]:e;if(n.length>0){for(var i=n[0],o=i.parentNode,r=0,a=t.length;r<a;r++)o.insertBefore(t[r],i);for(var r=0,a=n.length;r<a;r++)v.removeNode(n[r])}},fixUpContinuousNodeArray:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;e.length>1&&e[e.length-1].parentNode!==t;)e.length--;if(e.length>1){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)e.push(n),n=n.nextSibling;e.push(i)}}return e},setOptionNodeSelectionState:function(e,t){w<7?e.setAttribute("selected",t):e.selected=t},stringTrim:function(e){return null===e||e===t?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},domNodeIsAttachedToDocument:function(e){return v.utils.domNodeIsContainedBy(e,e.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(e){return!!v.utils.arrayFirst(e,v.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},catchFunctionErrors:function(e){return v.onError?function(){try{return e.apply(this,arguments)}catch(e){throw v.onError&&v.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(v.utils.catchFunctionErrors(e),t)},deferError:function(e){setTimeout(function(){throw v.onError&&v.onError(e),e},0)},registerEventHandler:function(e,t,n){var i=v.utils.catchFunctionErrors(n),o=w&&y[t];if(v.options.useOnlyNativeEvents||o||!r)if(o||"function"!=typeof e.addEventListener){if("undefined"==typeof e.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");var a=function(t){i.call(e,t)},s="on"+t;e.attachEvent(s,a),v.utils.domNodeDisposal.addDisposeCallback(e,function(){e.detachEvent(s,a)})}else e.addEventListener(t,i,!1);else r(e).bind(t,i)},triggerEvent:function(e,t){if(!e||!e.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var o=c(e,t);if(v.options.useOnlyNativeEvents||!r||o)if("function"==typeof i.createEvent){if("function"!=typeof e.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var a=g[t]||"HTMLEvents",s=i.createEvent(a);s.initEvent(t,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(s)}else if(o&&e.click)e.click();else{if("undefined"==typeof e.fireEvent)throw new Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else r(e).trigger(t)},unwrapObservable:function(e){return v.isObservable(e)?e():e},peekObservable:function(e){return v.isObservable(e)?e.peek():e},toggleDomNodeCssClass:p,setTextContent:function(e,n){var i=v.utils.unwrapObservable(n);null!==i&&i!==t||(i="");var o=v.virtualElements.firstChild(e);!o||3!=o.nodeType||v.virtualElements.nextSibling(o)?v.virtualElements.setDomNodeChildren(e,[e.ownerDocument.createTextNode(i)]):o.data=i,v.utils.forceRefresh(e)},setElementName:function(e,t){if(e.name=t,w<=7)try{e.mergeAttributes(i.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},forceRefresh:function(e){if(w>=9){var t=1==e.nodeType?e:e.parentNode;t.style&&(t.style.zoom=t.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(e){if(w){var t=e.style.width;e.style.width=0,e.style.width=t}},range:function(e,t){e=v.utils.unwrapObservable(e),t=v.utils.unwrapObservable(t);for(var n=[],i=e;i<=t;i++)n.push(i);return n},makeArray:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},createSymbolOrString:function(e){return f?Symbol(e):e},isIe6:x,isIe7:E,ieVersion:w,getFormFields:function(e,t){for(var n=v.utils.makeArray(e.getElementsByTagName("input")).concat(v.utils.makeArray(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},o=[],r=n.length-1;r>=0;r--)i(n[r])&&o.push(n[r]);return o},parseJson:function(e){return"string"==typeof e&&(e=v.utils.stringTrim(e))?a&&a.parse?a.parse(e):new Function("return "+e)():null},stringifyJson:function(e,t,n){if(!a||!a.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return a.stringify(v.utils.unwrapObservable(e),t,n)},postJson:function(e,t,n){n=n||{};var o=n.params||{},r=n.includeFields||this.fieldsIncludedWithJsonPost,a=e;if("object"==typeof e&&"form"===v.utils.tagNameLower(e)){var l=e;a=l.action;for(var u=r.length-1;u>=0;u--)for(var c=v.utils.getFormFields(l,r[u]),p=c.length-1;p>=0;p--)o[c[p].name]=c[p].value}t=v.utils.unwrapObservable(t);var d=i.createElement("form");d.style.display="none",d.action=a,d.method="post";for(var m in t){var f=i.createElement("input");f.type="hidden",f.name=m,f.value=v.utils.stringifyJson(v.utils.unwrapObservable(t[m])),d.appendChild(f)}s(o,function(e,t){var n=i.createElement("input");n.type="hidden",n.name=e,n.value=t,d.appendChild(n)}),i.body.appendChild(d),n.submitter?n.submitter(d):d.submit(),setTimeout(function(){d.parentNode.removeChild(d)},0)}}}(),v.exportSymbol("utils",v.utils),v.exportSymbol("utils.arrayForEach",v.utils.arrayForEach),v.exportSymbol("utils.arrayFirst",v.utils.arrayFirst),v.exportSymbol("utils.arrayFilter",v.utils.arrayFilter),v.exportSymbol("utils.arrayGetDistinctValues",v.utils.arrayGetDistinctValues),v.exportSymbol("utils.arrayIndexOf",v.utils.arrayIndexOf),v.exportSymbol("utils.arrayMap",v.utils.arrayMap),v.exportSymbol("utils.arrayPushAll",v.utils.arrayPushAll),v.exportSymbol("utils.arrayRemoveItem",v.utils.arrayRemoveItem),v.exportSymbol("utils.extend",v.utils.extend),v.exportSymbol("utils.fieldsIncludedWithJsonPost",v.utils.fieldsIncludedWithJsonPost),v.exportSymbol("utils.getFormFields",v.utils.getFormFields),v.exportSymbol("utils.peekObservable",v.utils.peekObservable),v.exportSymbol("utils.postJson",v.utils.postJson),v.exportSymbol("utils.parseJson",v.utils.parseJson),v.exportSymbol("utils.registerEventHandler",v.utils.registerEventHandler),v.exportSymbol("utils.stringifyJson",v.utils.stringifyJson),v.exportSymbol("utils.range",v.utils.range),v.exportSymbol("utils.toggleDomNodeCssClass",v.utils.toggleDomNodeCssClass),v.exportSymbol("utils.triggerEvent",v.utils.triggerEvent),v.exportSymbol("utils.unwrapObservable",v.utils.unwrapObservable),v.exportSymbol("utils.objectForEach",v.utils.objectForEach),v.exportSymbol("utils.addOrRemoveItem",v.utils.addOrRemoveItem),v.exportSymbol("utils.setTextContent",v.utils.setTextContent),v.exportSymbol("unwrap",v.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice(0);return i.push.apply(i,arguments),t.apply(e,i)}}),v.utils.domData=new function(){function e(e,r){var a=e[i],s=a&&"null"!==a&&o[a];if(!s){if(!r)return t;a=e[i]="ko"+n++,o[a]={}}return o[a]}var n=0,i="__ko__"+(new Date).getTime(),o={};return{get:function(n,i){var o=e(n,!1);return o===t?t:o[i]},set:function(n,i,o){if(o!==t||e(n,!1)!==t){var r=e(n,!0);r[i]=o}},clear:function(e){var t=e[i];return!!t&&(delete o[t],e[i]=null,!0)},nextKey:function(){return n++ +i}}},v.exportSymbol("utils.domData",v.utils.domData),v.exportSymbol("utils.domData.clear",v.utils.domData.clear),v.utils.domNodeDisposal=new function(){function e(e,n){var i=v.utils.domData.get(e,a);return i===t&&n&&(i=[],v.utils.domData.set(e,a,i)),i}function n(e){v.utils.domData.set(e,a,t)}function i(t){var n=e(t,!1);if(n){n=n.slice(0);for(var i=0;i<n.length;i++)n[i](t)}v.utils.domData.clear(t),v.utils.domNodeDisposal.cleanExternalData(t),l[t.nodeType]&&o(t)}function o(e){for(var t,n=e.firstChild;t=n;)n=t.nextSibling,8===t.nodeType&&i(t)}var a=v.utils.domData.nextKey(),s={1:!0,8:!0,9:!0},l={1:!0,9:!0};return{addDisposeCallback:function(t,n){if("function"!=typeof n)throw new Error("Callback must be a function");e(t,!0).push(n)},removeDisposeCallback:function(t,i){var o=e(t,!1);o&&(v.utils.arrayRemoveItem(o,i),0==o.length&&n(t))},cleanNode:function(e){if(s[e.nodeType]&&(i(e),l[e.nodeType])){var t=[];v.utils.arrayPushAll(t,e.getElementsByTagName("*"));for(var n=0,o=t.length;n<o;n++)i(t[n])}return e},removeNode:function(e){v.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){r&&"function"==typeof r.cleanData&&r.cleanData([e])}}},v.cleanNode=v.utils.domNodeDisposal.cleanNode,v.removeNode=v.utils.domNodeDisposal.removeNode,v.exportSymbol("cleanNode",v.cleanNode),v.exportSymbol("removeNode",v.removeNode),v.exportSymbol("utils.domNodeDisposal",v.utils.domNodeDisposal),v.exportSymbol("utils.domNodeDisposal.addDisposeCallback",v.utils.domNodeDisposal.addDisposeCallback),v.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",v.utils.domNodeDisposal.removeDisposeCallback),function(){function e(e){var t=e.match(/^<([a-z]+)[ >]/);return t&&d[t[1]]||s}function o(t,o){o||(o=i);var r=o.parentWindow||o.defaultView||n,a=v.utils.stringTrim(t).toLowerCase(),s=o.createElement("div"),l=e(a),u=l[0],c="ignored<div>"+l[1]+t+l[2]+"</div>";for("function"==typeof r.innerShiv?s.appendChild(r.innerShiv(c)):(m&&o.appendChild(s),s.innerHTML=c,m&&s.parentNode.removeChild(s));u--;)s=s.lastChild;return v.utils.makeArray(s.lastChild.childNodes)}function a(e,t){if(r.parseHTML)return r.parseHTML(e,t)||[];var n=r.clean([e],t);if(n&&n[0]){for(var i=n[0];i.parentNode&&11!==i.parentNode.nodeType;)i=i.parentNode;i.parentNode&&i.parentNode.removeChild(i)}return n}var s=[0,"",""],l=[1,"<table>","</table>"],u=[2,"<table><tbody>","</tbody></table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,"<select multiple='multiple'>","</select>"],d={thead:l,tbody:l,tfoot:l,tr:u,td:c,th:c,option:p,optgroup:p},m=v.utils.ieVersion<=8;v.utils.parseHtmlFragment=function(e,t){return r?a(e,t):o(e,t)},v.utils.setHtml=function(e,n){if(v.utils.emptyDomNode(e),n=v.utils.unwrapObservable(n),null!==n&&n!==t)if("string"!=typeof n&&(n=n.toString()),r)r(e).html(n);else for(var i=v.utils.parseHtmlFragment(n,e.ownerDocument),o=0;o<i.length;o++)e.appendChild(i[o])}}(),v.exportSymbol("utils.parseHtmlFragment",v.utils.parseHtmlFragment),v.exportSymbol("utils.setHtml",v.utils.setHtml),v.memoization=function(){function e(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function n(){return e()+e()}function i(e,t){if(e)if(8==e.nodeType){var n=v.memoization.parseMemoText(e.nodeValue);null!=n&&t.push({domNode:e,memoId:n})}else if(1==e.nodeType)for(var o=0,r=e.childNodes,a=r.length;o<a;o++)i(r[o],t)}var o={};return{memoize:function(e){if("function"!=typeof e)throw new Error("You can only pass a function to ko.memoization.memoize()");var t=n();return o[t]=e,"<!--[ko_memo:"+t+"]-->"},unmemoize:function(e,n){var i=o[e];if(i===t)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return i.apply(null,n||[]),!0}finally{delete o[e]}},unmemoizeDomNodeAndDescendants:function(e,t){var n=[];i(e,n);for(var o=0,r=n.length;o<r;o++){var a=n[o].domNode,s=[a];t&&v.utils.arrayPushAll(s,t),v.memoization.unmemoize(n[o].memoId,s),a.nodeValue="",a.parentNode&&a.parentNode.removeChild(a)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}(),v.exportSymbol("memoization",v.memoization),v.exportSymbol("memoization.memoize",v.memoization.memoize),v.exportSymbol("memoization.unmemoize",v.memoization.unmemoize),v.exportSymbol("memoization.parseMemoText",v.memoization.parseMemoText),v.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",v.memoization.unmemoizeDomNodeAndDescendants),v.tasks=function(){function e(){if(s)for(var e,t=s,n=0;u<s;)if(e=a[u++]){if(u>t){if(++n>=5e3){u=s,v.utils.deferError(Error("'Too much recursion' after processing "+n+" task groups."));break}t=s}try{e()}catch(e){v.utils.deferError(e)}}}function t(){e(),u=s=a.length=0}function o(){v.tasks.scheduler(t)}var r,a=[],s=0,l=1,u=0;r=n.MutationObserver?function(e){var t=i.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(t):i&&"onreadystatechange"in i.createElement("script")?function(e){var t=i.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,i.documentElement.removeChild(t),t=null,e()},i.documentElement.appendChild(t)}:function(e){setTimeout(e,0)};var c={scheduler:r,schedule:function(e){return s||o(),a[s++]=e,l++},cancel:function(e){var t=e-(l-s);t>=u&&t<s&&(a[t]=null)},resetForTesting:function(){var e=s-u;return u=s=a.length=0,e},runEarly:e};return c}(),v.exportSymbol("tasks",v.tasks),v.exportSymbol("tasks.schedule",v.tasks.schedule),v.exportSymbol("tasks.runEarly",v.tasks.runEarly),v.extenders={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return v.dependentObservable({read:e,write:function(i){clearTimeout(n),n=v.utils.setTimeout(function(){e(i)},t)}})},rateLimit:function(e,t){var n,i,o;"number"==typeof t?n=t:(n=t.timeout,i=t.method),e._deferUpdates=!1,o="notifyWhenChangesStop"==i?p:c,e.limit(function(e){return o(e,n)})},deferred:function(e,n){if(n!==!0)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");e._deferUpdates||(e._deferUpdates=!0,e.limit(function(n){var i;return function(){v.tasks.cancel(i),i=v.tasks.schedule(n),e.notifySubscribers(t,"dirty")}}))},notify:function(e,t){e.equalityComparer="always"==t?null:u}};var y={undefined:1,boolean:1,number:1,string:1};v.exportSymbol("extenders",v.extenders),v.subscription=function(e,t,n){this._target=e,this.callback=t,this.disposeCallback=n,this.isDisposed=!1,v.exportProperty(this,"dispose",this.dispose)},v.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},v.subscribable=function(){v.utils.setPrototypeOfOrExtend(this,x),x.init(this)};var w="change",x={init:function(e){e._subscriptions={},e._versionNumber=1},subscribe:function(e,t,n){var i=this;n=n||w;var o=t?e.bind(t):e,r=new v.subscription(i,o,function(){v.utils.arrayRemoveItem(i._subscriptions[n],r),i.afterSubscriptionRemove&&i.afterSubscriptionRemove(n)});return i.beforeSubscriptionAdd&&i.beforeSubscriptionAdd(n),i._subscriptions[n]||(i._subscriptions[n]=[]),i._subscriptions[n].push(r),r},notifySubscribers:function(e,t){if(t=t||w,t===w&&this.updateVersion(),this.hasSubscriptionsForEvent(t))try{v.dependencyDetection.begin();for(var n,i=this._subscriptions[t].slice(0),o=0;n=i[o];++o)n.isDisposed||n.callback(e)}finally{v.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(e){return this.getVersion()!==e},updateVersion:function(){++this._versionNumber},limit:function(e){var t,n,i,o=this,r=v.isObservable(o),a="beforeChange";o._origNotifySubscribers||(o._origNotifySubscribers=o.notifySubscribers,o.notifySubscribers=m);var s=e(function(){o._notificationIsPending=!1,r&&i===o&&(i=o()),t=!1,o.isDifferent(n,i)&&o._origNotifySubscribers(n=i)});o._limitChange=function(e){o._notificationIsPending=t=!0,i=e,s()},o._limitBeforeChange=function(e){t||(n=e,o._origNotifySubscribers(e,a))}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var t=0;return v.utils.objectForEach(this._subscriptions,function(e,n){"dirty"!==e&&(t+=n.length)}),t},isDifferent:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:d};v.exportProperty(x,"subscribe",x.subscribe),v.exportProperty(x,"extend",x.extend),v.exportProperty(x,"getSubscriptionsCount",x.getSubscriptionsCount),v.utils.canSetPrototype&&v.utils.setPrototypeOf(x,Function.prototype),v.subscribable.fn=x,v.isSubscribable=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},v.exportSymbol("subscribable",v.subscribable),v.exportSymbol("isSubscribable",v.isSubscribable),v.computedContext=v.dependencyDetection=function(){function e(){return++r}function t(e){o.push(i),i=e}function n(){i=o.pop()}var i,o=[],r=0;return{begin:t,end:n,registerDependency:function(t){if(i){if(!v.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");i.callback.call(i.callbackTarget,t,t._id||(t._id=e()))}},ignore:function(e,i,o){try{return t(),e.apply(i,o||[])}finally{n()}},getDependenciesCount:function(){if(i)return i.computed.getDependenciesCount()},isInitial:function(){if(i)return i.isInitial}}}(),v.exportSymbol("computedContext",v.computedContext),v.exportSymbol("computedContext.getDependenciesCount",v.computedContext.getDependenciesCount),v.exportSymbol("computedContext.isInitial",v.computedContext.isInitial),v.exportSymbol("ignoreDependencies",v.ignoreDependencies=v.dependencyDetection.ignore);var E=v.utils.createSymbolOrString("_latestValue");v.observable=function(e){function t(){return arguments.length>0?(t.isDifferent(t[E],arguments[0])&&(t.valueWillMutate(),t[E]=arguments[0],t.valueHasMutated()),this):(v.dependencyDetection.registerDependency(t),t[E])}return t[E]=e,v.utils.canSetPrototype||v.utils.extend(t,v.subscribable.fn),v.subscribable.fn.init(t),v.utils.setPrototypeOfOrExtend(t,S),v.options.deferUpdates&&v.extenders.deferred(t,!0),t};var S={equalityComparer:u,peek:function(){return this[E]},valueHasMutated:function(){this.notifySubscribers(this[E])},valueWillMutate:function(){this.notifySubscribers(this[E],"beforeChange")}};v.utils.canSetPrototype&&v.utils.setPrototypeOf(S,v.subscribable.fn);var _=v.observable.protoProperty="__ko_proto__";S[_]=v.observable,v.hasPrototype=function(e,n){return null!==e&&e!==t&&e[_]!==t&&(e[_]===n||v.hasPrototype(e[_],n))},v.isObservable=function(e){return v.hasPrototype(e,v.observable)},v.isWriteableObservable=function(e){return"function"==typeof e&&e[_]===v.observable||!("function"!=typeof e||e[_]!==v.dependentObservable||!e.hasWriteFunction)},v.exportSymbol("observable",v.observable),v.exportSymbol("isObservable",v.isObservable),v.exportSymbol("isWriteableObservable",v.isWriteableObservable),v.exportSymbol("isWritableObservable",v.isWriteableObservable),v.exportSymbol("observable.fn",S),v.exportProperty(S,"peek",S.peek),v.exportProperty(S,"valueHasMutated",S.valueHasMutated),v.exportProperty(S,"valueWillMutate",S.valueWillMutate),v.observableArray=function(e){if(e=e||[],"object"!=typeof e||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=v.observable(e);return v.utils.setPrototypeOfOrExtend(t,v.observableArray.fn),t.extend({trackArrayChanges:!0})},v.observableArray.fn={remove:function(e){for(var t=this.peek(),n=[],i="function"!=typeof e||v.isObservable(e)?function(t){return t===e}:e,o=0;o<t.length;o++){var r=t[o];i(r)&&(0===n.length&&this.valueWillMutate(),n.push(r),t.splice(o,1),o--)}return n.length&&this.valueHasMutated(),n},removeAll:function(e){if(e===t){var n=this.peek(),i=n.slice(0);return this.valueWillMutate(),n.splice(0,n.length),this.valueHasMutated(),i}return e?this.remove(function(t){return v.utils.arrayIndexOf(e,t)>=0}):[]},destroy:function(e){var t=this.peek(),n="function"!=typeof e||v.isObservable(e)?function(t){return t===e}:e;this.valueWillMutate();for(var i=t.length-1;i>=0;i--){var o=t[i];n(o)&&(t[i]._destroy=!0)}this.valueHasMutated()},destroyAll:function(e){return e===t?this.destroy(function(){return!0}):e?this.destroy(function(t){return v.utils.arrayIndexOf(e,t)>=0}):[]},indexOf:function(e){var t=this();return v.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())}},v.utils.canSetPrototype&&v.utils.setPrototypeOf(v.observableArray.fn,v.observable.fn),v.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(e){v.observableArray.fn[e]=function(){var t=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(t,e,arguments);var n=t[e].apply(t,arguments);return this.valueHasMutated(),n===t?this:n}}),v.utils.arrayForEach(["slice"],function(e){v.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),v.exportSymbol("observableArray",v.observableArray);var N="arrayChange";v.extenders.trackArrayChanges=function(e,t){function n(){if(!r){r=!0;var t=e.notifySubscribers;e.notifySubscribers=function(e,n){return n&&n!==w||++s,t.apply(this,arguments)};var n=[].concat(e.peek()||[]);a=null,o=e.subscribe(function(t){if(t=[].concat(t||[]),e.hasSubscriptionsForEvent(N))var o=i(n,t);n=t,a=null,s=0,o&&o.length&&e.notifySubscribers(o,N)})}}function i(t,n){return(!a||s>1)&&(a=v.utils.compareArrays(t,n,e.compareArrayOptions)),a}if(e.compareArrayOptions={},t&&"object"==typeof t&&v.utils.extend(e.compareArrayOptions,t),e.compareArrayOptions.sparse=!0,!e.cacheDiffForKnownOperation){var o,r=!1,a=null,s=0,l=e.beforeSubscriptionAdd,u=e.afterSubscriptionRemove;e.beforeSubscriptionAdd=function(t){l&&l.call(e,t),t===N&&n()},e.afterSubscriptionRemove=function(t){u&&u.call(e,t),t!==N||e.hasSubscriptionsForEvent(N)||(o.dispose(),r=!1)},e.cacheDiffForKnownOperation=function(e,t,n){function i(e,t,n){return o[o.length]={status:e,value:t,index:n}}if(r&&!s){var o=[],l=e.length,u=n.length,c=0;switch(t){case"push":c=l;case"unshift":for(var p=0;p<u;p++)i("added",n[p],c+p);break;case"pop":c=l-1;case"shift":l&&i("deleted",e[c],c);break;case"splice":for(var d=Math.min(Math.max(0,n[0]<0?l+n[0]:n[0]),l),m=1===u?l:Math.min(d+(n[1]||0),l),f=d+u-2,h=Math.max(m,f),g=[],b=[],p=d,y=2;p<h;++p,++y)p<m&&b.push(i("deleted",e[p],p)),p<f&&g.push(i("added",n[y],p));v.utils.findMovesInArrayComparison(b,g);break;default:return}a=o}}}};var C=v.utils.createSymbolOrString("_state");v.computed=v.dependentObservable=function(n,i,o){function r(){if(arguments.length>0){if("function"!=typeof a)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return a.apply(s.evaluatorFunctionTarget,arguments),this}return v.dependencyDetection.registerDependency(r),(s.isStale||s.isSleeping&&r.haveDependenciesChanged())&&r.evaluateImmediate(),s.latestValue}if("object"==typeof n?o=n:(o=o||{},n&&(o.read=n)),"function"!=typeof o.read)throw Error("Pass a function that returns the value of the ko.computed");var a=o.write,s={latestValue:t,isStale:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:o.read,evaluatorFunctionTarget:i||o.owner,disposeWhenNodeIsRemoved:o.disposeWhenNodeIsRemoved||o.disposeWhenNodeIsRemoved||null,disposeWhen:o.disposeWhen||o.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};return r[C]=s,r.hasWriteFunction="function"==typeof a,v.utils.canSetPrototype||v.utils.extend(r,v.subscribable.fn),v.subscribable.fn.init(r),v.utils.setPrototypeOfOrExtend(r,T),o.pure?(s.pure=!0,s.isSleeping=!0,v.utils.extend(r,k)):o.deferEvaluation&&v.utils.extend(r,D),v.options.deferUpdates&&v.extenders.deferred(r,!0),e&&(r._options=o),s.disposeWhenNodeIsRemoved&&(s.suppressDisposalUntilDisposeWhenReturnsFalse=!0,s.disposeWhenNodeIsRemoved.nodeType||(s.disposeWhenNodeIsRemoved=null)),s.isSleeping||o.deferEvaluation||r.evaluateImmediate(),s.disposeWhenNodeIsRemoved&&r.isActive()&&v.utils.domNodeDisposal.addDisposeCallback(s.disposeWhenNodeIsRemoved,s.domNodeDisposalCallback=function(){r.dispose()}),r};var T={equalityComparer:u,getDependenciesCount:function(){return this[C].dependenciesCount},addDependencyTracking:function(e,t,n){if(this[C].pure&&t===this)throw Error("A 'pure' computed must not be called recursively");this[C].dependencyTracking[e]=n,n._order=this[C].dependenciesCount++,n._version=t.getVersion()},haveDependenciesChanged:function(){var e,t,n=this[C].dependencyTracking;for(e in n)if(n.hasOwnProperty(e)&&(t=n[e],t._target.hasChanged(t._version)))return!0},markDirty:function(){this._evalDelayed&&!this[C].isBeingEvaluated&&this._evalDelayed()},isActive:function(){return this[C].isStale||this[C].dependenciesCount>0},respondToChange:function(){this._notificationIsPending||this.evaluatePossiblyAsync()},subscribeToDependency:function(e){if(e._deferUpdates&&!this[C].disposeWhenNodeIsRemoved){var t=e.subscribe(this.markDirty,this,"dirty"),n=e.subscribe(this.respondToChange,this);return{_target:e,dispose:function(){t.dispose(),n.dispose()}}}return e.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var e=this,t=e.throttleEvaluation;t&&t>=0?(clearTimeout(this[C].evaluationTimeoutInstance),this[C].evaluationTimeoutInstance=v.utils.setTimeout(function(){e.evaluateImmediate(!0)},t)):e._evalDelayed?e._evalDelayed():e.evaluateImmediate(!0)},evaluateImmediate:function(e){var t=this,n=t[C],i=n.disposeWhen;if(!n.isBeingEvaluated&&!n.isDisposed){if(n.disposeWhenNodeIsRemoved&&!v.utils.domNodeIsAttachedToDocument(n.disposeWhenNodeIsRemoved)||i&&i()){if(!n.suppressDisposalUntilDisposeWhenReturnsFalse)return void t.dispose()}else n.suppressDisposalUntilDisposeWhenReturnsFalse=!1;n.isBeingEvaluated=!0;try{this.evaluateImmediate_CallReadWithDependencyDetection(e)}finally{n.isBeingEvaluated=!1}n.dependenciesCount||t.dispose()}},evaluateImmediate_CallReadWithDependencyDetection:function(e){var n=this,i=n[C],o=i.pure?t:!i.dependenciesCount,r={computedObservable:n,disposalCandidates:i.dependencyTracking,disposalCount:i.dependenciesCount};v.dependencyDetection.begin({callbackTarget:r,callback:h,computed:n,isInitial:o}),i.dependencyTracking={},i.dependenciesCount=0;var a=this.evaluateImmediate_CallReadThenEndDependencyDetection(i,r);n.isDifferent(i.latestValue,a)&&(i.isSleeping||n.notifySubscribers(i.latestValue,"beforeChange"),i.latestValue=a,i.isSleeping?n.updateVersion():e&&n.notifySubscribers(i.latestValue)),o&&n.notifySubscribers(i.latestValue,"awake")},evaluateImmediate_CallReadThenEndDependencyDetection:function(e,t){try{var n=e.readFunction;return e.evaluatorFunctionTarget?n.call(e.evaluatorFunctionTarget):n()}finally{v.dependencyDetection.end(),t.disposalCount&&!e.isSleeping&&v.utils.objectForEach(t.disposalCandidates,f),e.isStale=!1}},peek:function(){var e=this[C];return(e.isStale&&!e.dependenciesCount||e.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),e.latestValue;
},limit:function(e){v.subscribable.fn.limit.call(this,e),this._evalDelayed=function(){this._limitBeforeChange(this[C].latestValue),this[C].isStale=!0,this._limitChange(this)}},dispose:function(){var e=this[C];!e.isSleeping&&e.dependencyTracking&&v.utils.objectForEach(e.dependencyTracking,function(e,t){t.dispose&&t.dispose()}),e.disposeWhenNodeIsRemoved&&e.domNodeDisposalCallback&&v.utils.domNodeDisposal.removeDisposeCallback(e.disposeWhenNodeIsRemoved,e.domNodeDisposalCallback),e.dependencyTracking=null,e.dependenciesCount=0,e.isDisposed=!0,e.isStale=!1,e.isSleeping=!1,e.disposeWhenNodeIsRemoved=null}},k={beforeSubscriptionAdd:function(e){var t=this,n=t[C];if(!n.isDisposed&&n.isSleeping&&"change"==e){if(n.isSleeping=!1,n.isStale||t.haveDependenciesChanged())n.dependencyTracking=null,n.dependenciesCount=0,n.isStale=!0,t.evaluateImmediate();else{var i=[];v.utils.objectForEach(n.dependencyTracking,function(e,t){i[t._order]=e}),v.utils.arrayForEach(i,function(e,i){var o=n.dependencyTracking[e],r=t.subscribeToDependency(o._target);r._order=i,r._version=o._version,n.dependencyTracking[e]=r})}n.isDisposed||t.notifySubscribers(n.latestValue,"awake")}},afterSubscriptionRemove:function(e){var n=this[C];n.isDisposed||"change"!=e||this.hasSubscriptionsForEvent("change")||(v.utils.objectForEach(n.dependencyTracking,function(e,t){t.dispose&&(n.dependencyTracking[e]={_target:t._target,_order:t._order,_version:t._version},t.dispose())}),n.isSleeping=!0,this.notifySubscribers(t,"asleep"))},getVersion:function(){var e=this[C];return e.isSleeping&&(e.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),v.subscribable.fn.getVersion.call(this)}},D={beforeSubscriptionAdd:function(e){"change"!=e&&"beforeChange"!=e||this.peek()}};v.utils.canSetPrototype&&v.utils.setPrototypeOf(T,v.subscribable.fn);var O=v.observable.protoProperty;v.computed[O]=v.observable,T[O]=v.computed,v.isComputed=function(e){return v.hasPrototype(e,v.computed)},v.isPureComputed=function(e){return v.hasPrototype(e,v.computed)&&e[C]&&e[C].pure},v.exportSymbol("computed",v.computed),v.exportSymbol("dependentObservable",v.computed),v.exportSymbol("isComputed",v.isComputed),v.exportSymbol("isPureComputed",v.isPureComputed),v.exportSymbol("computed.fn",T),v.exportProperty(T,"peek",T.peek),v.exportProperty(T,"dispose",T.dispose),v.exportProperty(T,"isActive",T.isActive),v.exportProperty(T,"getDependenciesCount",T.getDependenciesCount),v.pureComputed=function(e,t){return"function"==typeof e?v.computed(e,t,{pure:!0}):(e=v.utils.extend({},e),e.pure=!0,v.computed(e,t))},v.exportSymbol("pureComputed",v.pureComputed),function(){function e(o,r,a){a=a||new i,o=r(o);var s=!("object"!=typeof o||null===o||o===t||o instanceof RegExp||o instanceof Date||o instanceof String||o instanceof Number||o instanceof Boolean);if(!s)return o;var l=o instanceof Array?[]:{};return a.save(o,l),n(o,function(n){var i=r(o[n]);switch(typeof i){case"boolean":case"number":case"string":case"function":l[n]=i;break;case"object":case"undefined":var s=a.get(i);l[n]=s!==t?s:e(i,r,a)}}),l}function n(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(var i in e)t(i)}function i(){this.keys=[],this.values=[]}var o=10;v.toJS=function(t){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(e){for(var t=0;v.isObservable(e)&&t<o;t++)e=e();return e})},v.toJSON=function(e,t,n){var i=v.toJS(e);return v.utils.stringifyJson(i,t,n)},i.prototype={constructor:i,save:function(e,t){var n=v.utils.arrayIndexOf(this.keys,e);n>=0?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){var n=v.utils.arrayIndexOf(this.keys,e);return n>=0?this.values[n]:t}}}(),v.exportSymbol("toJS",v.toJS),v.exportSymbol("toJSON",v.toJSON),function(){var e="__ko__hasDomDataOptionValue__";v.selectExtensions={readValue:function(n){switch(v.utils.tagNameLower(n)){case"option":return n[e]===!0?v.utils.domData.get(n,v.bindingHandlers.options.optionValueDomDataKey):v.utils.ieVersion<=7?n.getAttributeNode("value")&&n.getAttributeNode("value").specified?n.value:n.text:n.value;case"select":return n.selectedIndex>=0?v.selectExtensions.readValue(n.options[n.selectedIndex]):t;default:return n.value}},writeValue:function(n,i,o){switch(v.utils.tagNameLower(n)){case"option":switch(typeof i){case"string":v.utils.domData.set(n,v.bindingHandlers.options.optionValueDomDataKey,t),e in n&&delete n[e],n.value=i;break;default:v.utils.domData.set(n,v.bindingHandlers.options.optionValueDomDataKey,i),n[e]=!0,n.value="number"==typeof i?i:""}break;case"select":""!==i&&null!==i||(i=t);for(var r,a=-1,s=0,l=n.options.length;s<l;++s)if(r=v.selectExtensions.readValue(n.options[s]),r==i||""==r&&i===t){a=s;break}(o||a>=0||i===t&&n.size>1)&&(n.selectedIndex=a);break;default:null!==i&&i!==t||(i=""),n.value=i}}}}(),v.exportSymbol("selectExtensions",v.selectExtensions),v.exportSymbol("selectExtensions.readValue",v.selectExtensions.readValue),v.exportSymbol("selectExtensions.writeValue",v.selectExtensions.writeValue),v.expressionRewriting=function(){function e(e){if(v.utils.arrayIndexOf(i,e)>=0)return!1;var t=e.match(o);return null!==t&&(t[1]?"Object("+t[1]+")"+t[2]:e)}function t(e){var t=v.utils.stringTrim(e);123===t.charCodeAt(0)&&(t=t.slice(1,-1));var n,i=[],o=t.match(p),r=[],a=0;if(o){o.push(",");for(var s,l=0;s=o[l];++l){var u=s.charCodeAt(0);if(44===u){if(a<=0){i.push(n&&r.length?{key:n,value:r.join("")}:{unknown:n||r.join("")}),n=a=0,r=[];continue}}else if(58===u){if(!a&&!n&&1===r.length){n=r.pop();continue}}else if(47===u&&l&&s.length>1){var c=o[l-1].match(d);c&&!m[c[0]]&&(t=t.substr(t.indexOf(s)+1),o=t.match(p),o.push(","),l=-1,s="/")}else 40===u||123===u||91===u?++a:41===u||125===u||93===u?--a:n||r.length||34!==u&&39!==u||(s=s.slice(1,-1));r.push(s)}}return i}function n(n,i){function o(t,n){function i(e){return!e||!e.preprocess||(n=e.preprocess(n,t,o))}var u;if(!l){if(!i(v.getBindingHandler(t)))return;f[t]&&(u=e(n))&&a.push("'"+t+"':function(_z){"+u+"=_z}")}s&&(n="function(){return "+n+" }"),r.push("'"+t+"':"+n)}i=i||{};var r=[],a=[],s=i.valueAccessors,l=i.bindingParams,u="string"==typeof n?t(n):n;return v.utils.arrayForEach(u,function(e){o(e.key||e.unknown,e.value)}),a.length&&o("_ko_property_writers","{"+a.join(",")+" }"),r.join(",")}var i=["true","false","null","undefined"],o=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,r='"(?:[^"\\\\]|\\\\.)*"',a="'(?:[^'\\\\]|\\\\.)*'",s="/(?:[^/\\\\]|\\\\.)*/w*",l=",\"'{}()/:[\\]",u="[^\\s:,/][^"+l+"]*[^\\s"+l+"]",c="[^\\s]",p=RegExp(r+"|"+a+"|"+s+"|"+u+"|"+c,"g"),d=/[\])"'A-Za-z0-9_$]+$/,m={in:1,return:1,typeof:1},f={};return{bindingRewriteValidators:[],twoWayBindings:f,parseObjectLiteral:t,preProcessBindings:n,keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},writeValueToProperty:function(e,t,n,i,o){if(e&&v.isObservable(e))!v.isWriteableObservable(e)||o&&e.peek()===i||e(i);else{var r=t.get("_ko_property_writers");r&&r[n]&&r[n](i)}}}}(),v.exportSymbol("expressionRewriting",v.expressionRewriting),v.exportSymbol("expressionRewriting.bindingRewriteValidators",v.expressionRewriting.bindingRewriteValidators),v.exportSymbol("expressionRewriting.parseObjectLiteral",v.expressionRewriting.parseObjectLiteral),v.exportSymbol("expressionRewriting.preProcessBindings",v.expressionRewriting.preProcessBindings),v.exportSymbol("expressionRewriting._twoWayBindings",v.expressionRewriting.twoWayBindings),v.exportSymbol("jsonExpressionRewriting",v.expressionRewriting),v.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",v.expressionRewriting.preProcessBindings),function(){function e(e){return 8==e.nodeType&&s.test(a?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&l.test(a?e.text:e.nodeValue)}function n(n,i){for(var o=n,r=1,a=[];o=o.nextSibling;){if(t(o)&&(r--,0===r))return a;a.push(o),e(o)&&r++}if(!i)throw new Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function o(e,t){var i=n(e,t);return i?i.length>0?i[i.length-1].nextSibling:e.nextSibling:null}function r(n){var i=n.firstChild,r=null;if(i)do if(r)r.push(i);else if(e(i)){var a=o(i,!0);a?i=a:r=[i]}else t(i)&&(r=[i]);while(i=i.nextSibling);return r}var a=i&&"<!--test-->"===i.createComment("test").text,s=a?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,l=a?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,u={ul:!0,ol:!0};v.virtualElements={allowedBindings:{},childNodes:function(t){return e(t)?n(t):t.childNodes},emptyNode:function(t){if(e(t))for(var n=v.virtualElements.childNodes(t),i=0,o=n.length;i<o;i++)v.removeNode(n[i]);else v.utils.emptyDomNode(t)},setDomNodeChildren:function(t,n){if(e(t)){v.virtualElements.emptyNode(t);for(var i=t.nextSibling,o=0,r=n.length;o<r;o++)i.parentNode.insertBefore(n[o],i)}else v.utils.setDomNodeChildren(t,n)},prepend:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},insertAfter:function(t,n,i){i?e(t)?t.parentNode.insertBefore(n,i.nextSibling):i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):v.virtualElements.prepend(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=o(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},hasBindingValue:e,virtualNodeBindingValue:function(e){var t=(a?e.text:e.nodeValue).match(s);return t?t[1]:null},normaliseVirtualElementDomStructure:function(e){if(u[v.utils.tagNameLower(e)]){var t=e.firstChild;if(t)do if(1===t.nodeType){var n=r(t);if(n)for(var i=t.nextSibling,o=0;o<n.length;o++)i?e.insertBefore(n[o],i):e.appendChild(n[o])}while(t=t.nextSibling)}}}}(),v.exportSymbol("virtualElements",v.virtualElements),v.exportSymbol("virtualElements.allowedBindings",v.virtualElements.allowedBindings),v.exportSymbol("virtualElements.emptyNode",v.virtualElements.emptyNode),v.exportSymbol("virtualElements.insertAfter",v.virtualElements.insertAfter),v.exportSymbol("virtualElements.prepend",v.virtualElements.prepend),v.exportSymbol("virtualElements.setDomNodeChildren",v.virtualElements.setDomNodeChildren),function(){function e(e,n,i){var o=e+(i&&i.valueAccessors||"");return n[o]||(n[o]=t(e,i))}function t(e,t){var n=v.expressionRewriting.preProcessBindings(e,t),i="with($context){with($data||{}){return{"+n+"}}}";return new Function("$context","$element",i)}var n="data-bind";v.bindingProvider=function(){this.bindingCache={}},v.utils.extend(v.bindingProvider.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute(n)||v.components.getComponentNameForNode(e);case 8:return v.virtualElements.hasBindingValue(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t),i=n?this.parseBindingsString(n,t,e):null;return v.components.addBindingsForCustomElement(i,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t),i=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return v.components.addBindingsForCustomElement(i,e,t,!0)},getBindingsString:function(e,t){switch(e.nodeType){case 1:return e.getAttribute(n);case 8:return v.virtualElements.virtualNodeBindingValue(e);default:return null}},parseBindingsString:function(t,n,i,o){try{var r=e(t,this.bindingCache,o);return r(n,i)}catch(e){throw e.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+e.message,e}}}),v.bindingProvider.instance=new v.bindingProvider}(),v.exportSymbol("bindingProvider",v.bindingProvider),function(){function e(e){return function(){return e}}function i(e){return e()}function o(e){return v.utils.objectMap(v.dependencyDetection.ignore(e),function(t,n){return function(){return e()[n]}})}function a(t,n,i){return"function"==typeof t?o(t.bind(null,n,i)):v.utils.objectMap(t,e)}function s(e,t){return o(this.getBindings.bind(this,e,t))}function l(e){var t=v.virtualElements.allowedBindings[e];if(!t)throw new Error("The binding '"+e+"' cannot be used with virtual elements")}function u(e,t,n){var i,o=v.virtualElements.firstChild(t),r=v.bindingProvider.instance,a=r.preprocessNode;if(a){for(;i=o;)o=v.virtualElements.nextSibling(i),a.call(r,i);o=v.virtualElements.firstChild(t)}for(;i=o;)o=v.virtualElements.nextSibling(i),c(e,i,n)}function c(e,t,n){var i=!0,o=1===t.nodeType;o&&v.virtualElements.normaliseVirtualElementDomStructure(t);var r=o&&n||v.bindingProvider.instance.nodeHasBindings(t);r&&(i=d(t,null,e,n).shouldBindDescendants),i&&!f[v.utils.tagNameLower(t)]&&u(e,t,!o)}function p(e){var t=[],n={},i=[];return v.utils.objectForEach(e,function o(r){if(!n[r]){var a=v.getBindingHandler(r);a&&(a.after&&(i.push(r),v.utils.arrayForEach(a.after,function(t){if(e[t]){if(v.utils.arrayIndexOf(i,t)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));o(t)}}),i.length--),t.push({key:r,handler:a})),n[r]=!0}}),t}function d(e,n,o,r){function a(){return v.utils.objectMap(f?f():c,i)}var u=v.utils.domData.get(e,h);if(!n){if(u)throw Error("You cannot apply bindings multiple times to the same element.");v.utils.domData.set(e,h,!0)}!u&&r&&v.storedBindingContextForNode(e,o);var c;if(n&&"function"!=typeof n)c=n;else{var d=v.bindingProvider.instance,m=d.getBindingAccessors||s,f=v.dependentObservable(function(){return c=n?n(o,e):m.call(d,e,o),c&&o._subscribable&&o._subscribable(),c},null,{disposeWhenNodeIsRemoved:e});c&&f.isActive()||(f=null)}var g;if(c){var b=f?function(e){return function(){return i(f()[e])}}:function(e){return c[e]};a.get=function(e){return c[e]&&i(b(e))},a.has=function(e){return e in c};var y=p(c);v.utils.arrayForEach(y,function(n){var i=n.handler.init,r=n.handler.update,s=n.key;8===e.nodeType&&l(s);try{"function"==typeof i&&v.dependencyDetection.ignore(function(){var n=i(e,b(s),a,o.$data,o);if(n&&n.controlsDescendantBindings){if(g!==t)throw new Error("Multiple bindings ("+g+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");g=s}}),"function"==typeof r&&v.dependentObservable(function(){r(e,b(s),a,o.$data,o)},null,{disposeWhenNodeIsRemoved:e})}catch(e){throw e.message='Unable to process binding "'+s+": "+c[s]+'"\nMessage: '+e.message,e}})}return{shouldBindDescendants:g===t}}function m(e){return e&&e instanceof v.bindingContext?e:new v.bindingContext(e)}v.bindingHandlers={};var f={script:!0,textarea:!0,template:!0};v.getBindingHandler=function(e){return v.bindingHandlers[e]},v.bindingContext=function(e,n,i,o){function r(){var t=u?e():e,r=v.utils.unwrapObservable(t);return n?(n._subscribable&&n._subscribable(),v.utils.extend(l,n),c&&(l._subscribable=c)):(l.$parents=[],l.$root=r,l.ko=v),l.$rawData=t,l.$data=r,i&&(l[i]=r),o&&o(l,n,r),l.$data}function a(){return s&&!v.utils.anyDomNodeIsAttachedToDocument(s)}var s,l=this,u="function"==typeof e&&!v.isObservable(e),c=v.dependentObservable(r,null,{disposeWhen:a,disposeWhenNodeIsRemoved:!0});c.isActive()&&(l._subscribable=c,c.equalityComparer=null,s=[],c._addNode=function(e){s.push(e),v.utils.domNodeDisposal.addDisposeCallback(e,function(e){v.utils.arrayRemoveItem(s,e),s.length||(c.dispose(),l._subscribable=c=t)})})},v.bindingContext.prototype.createChildContext=function(e,t,n){return new v.bindingContext(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)})},v.bindingContext.prototype.extend=function(e){return new v.bindingContext(this._subscribable||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,v.utils.extend(t,"function"==typeof e?e():e)})};var h=v.utils.domData.nextKey(),g=v.utils.domData.nextKey();v.storedBindingContextForNode=function(e,t){return 2!=arguments.length?v.utils.domData.get(e,g):(v.utils.domData.set(e,g,t),void(t._subscribable&&t._subscribable._addNode(e)))},v.applyBindingAccessorsToNode=function(e,t,n){return 1===e.nodeType&&v.virtualElements.normaliseVirtualElementDomStructure(e),d(e,t,m(n),!0)},v.applyBindingsToNode=function(e,t,n){var i=m(n);return v.applyBindingAccessorsToNode(e,a(t,i,e),i)},v.applyBindingsToDescendants=function(e,t){1!==t.nodeType&&8!==t.nodeType||u(m(e),t,!0)},v.applyBindings=function(e,t){if(!r&&n.jQuery&&(r=n.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||n.document.body,c(m(e),t,!0)},v.contextFor=function(e){switch(e.nodeType){case 1:case 8:var n=v.storedBindingContextForNode(e);if(n)return n;if(e.parentNode)return v.contextFor(e.parentNode)}return t},v.dataFor=function(e){var n=v.contextFor(e);return n?n.$data:t},v.exportSymbol("bindingHandlers",v.bindingHandlers),v.exportSymbol("applyBindings",v.applyBindings),v.exportSymbol("applyBindingsToDescendants",v.applyBindingsToDescendants),v.exportSymbol("applyBindingAccessorsToNode",v.applyBindingAccessorsToNode),v.exportSymbol("applyBindingsToNode",v.applyBindingsToNode),v.exportSymbol("contextFor",v.contextFor),v.exportSymbol("dataFor",v.dataFor)}(),function(e){function t(t,n){return t.hasOwnProperty(n)?t[n]:e}function n(e,n){var o,s=t(r,e);s?s.subscribe(n):(s=r[e]=new v.subscribable,s.subscribe(n),i(e,function(t,n){var i=!(!n||!n.synchronous);a[e]={definition:t,isSynchronousComponent:i},delete r[e],o||i?s.notifySubscribers(t):v.tasks.schedule(function(){s.notifySubscribers(t)})}),o=!0)}function i(e,t){o("getConfig",[e],function(n){n?o("loadComponent",[e,n],function(e){t(e,n)}):t(null,null)})}function o(t,n,i,r){r||(r=v.components.loaders.slice(0));var a=r.shift();if(a){var s=a[t];if(s){var l=!1,u=s.apply(a,n.concat(function(e){l?i(null):null!==e?i(e):o(t,n,i,r)}));if(u!==e&&(l=!0,!a.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else o(t,n,i,r)}else i(null)}var r={},a={};v.components={get:function(e,i){var o=t(a,e);o?o.isSynchronousComponent?v.dependencyDetection.ignore(function(){i(o.definition)}):v.tasks.schedule(function(){i(o.definition)}):n(e,i)},clearCachedDefinition:function(e){delete a[e]},_getFirstResultFromLoaders:o},v.components.loaders=[],v.exportSymbol("components",v.components),v.exportSymbol("components.get",v.components.get),v.exportSymbol("components.clearCachedDefinition",v.components.clearCachedDefinition)}(),function(e){function t(e,t,n,i){var o={},r=2,a=function(){0===--r&&i(o)},s=n.template,l=n.viewModel;s?c(t,s,function(t){v.components._getFirstResultFromLoaders("loadTemplate",[e,t],function(e){o.template=e,a()})}):a(),l?c(t,l,function(t){v.components._getFirstResultFromLoaders("loadViewModel",[e,t],function(e){o[m]=e,a()})}):a()}function o(e,t,n){if("string"==typeof t)n(v.utils.parseHtmlFragment(t));else if(t instanceof Array)n(t);else if(u(t))n(v.utils.makeArray(t.childNodes));else if(t.element){var o=t.element;if(s(o))n(a(o));else if("string"==typeof o){var r=i.getElementById(o);r?n(a(r)):e("Cannot find element with ID "+o)}else e("Unknown element type: "+o)}else e("Unknown template value: "+t)}function r(e,t,n){if("function"==typeof t)n(function(e){return new t(e)});else if("function"==typeof t[m])n(t[m]);else if("instance"in t){var i=t.instance;n(function(e,t){return i})}else"viewModel"in t?r(e,t.viewModel,n):e("Unknown viewModel value: "+t)}function a(e){switch(v.utils.tagNameLower(e)){case"script":return v.utils.parseHtmlFragment(e.text);case"textarea":return v.utils.parseHtmlFragment(e.value);case"template":if(u(e.content))return v.utils.cloneNodes(e.content.childNodes)}return v.utils.cloneNodes(e.childNodes)}function s(e){return n.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType}function u(e){return n.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function c(e,t,i){"string"==typeof t.require?l||n.require?(l||n.require)([t.require],i):e("Uses require, but no AMD loader is present"):i(t)}function p(e){return function(t){throw new Error("Component '"+e+"': "+t)}}var d={};v.components.register=function(e,t){if(!t)throw new Error("Invalid configuration for "+e);if(v.components.isRegistered(e))throw new Error("Component "+e+" is already registered");d[e]=t},v.components.isRegistered=function(e){return d.hasOwnProperty(e)},v.components.unregister=function(e){delete d[e],v.components.clearCachedDefinition(e)},v.components.defaultLoader={getConfig:function(e,t){var n=d.hasOwnProperty(e)?d[e]:null;t(n)},loadComponent:function(e,n,i){var o=p(e);c(o,n,function(n){t(e,o,n,i)})},loadTemplate:function(e,t,n){o(p(e),t,n)},loadViewModel:function(e,t,n){r(p(e),t,n)}};var m="createViewModel";v.exportSymbol("components.register",v.components.register),v.exportSymbol("components.isRegistered",v.components.isRegistered),v.exportSymbol("components.unregister",v.components.unregister),v.exportSymbol("components.defaultLoader",v.components.defaultLoader),v.components.loaders.push(v.components.defaultLoader),v.components._allRegisteredComponents=d}(),function(e){function t(e,t){var i=e.getAttribute("params");if(i){var o=n.parseBindingsString(i,t,e,{valueAccessors:!0,bindingParams:!0}),r=v.utils.objectMap(o,function(t,n){return v.computed(t,null,{disposeWhenNodeIsRemoved:e})}),a=v.utils.objectMap(r,function(t,n){var i=t.peek();return t.isActive()?v.computed({read:function(){return v.utils.unwrapObservable(t())},write:v.isWriteableObservable(i)&&function(e){t()(e)},disposeWhenNodeIsRemoved:e}):i});return a.hasOwnProperty("$raw")||(a.$raw=r),a}return{$raw:{}}}v.components.getComponentNameForNode=function(e){var t=v.utils.tagNameLower(e);if(v.components.isRegistered(t)&&(t.indexOf("-")!=-1||""+e=="[object HTMLUnknownElement]"||v.utils.ieVersion<=8&&e.tagName===t))return t},v.components.addBindingsForCustomElement=function(e,n,i,o){if(1===n.nodeType){var r=v.components.getComponentNameForNode(n);if(r){if(e=e||{},e.component)throw new Error('Cannot use the "component" binding on a custom element matching a component');var a={name:r,params:t(n,i)};e.component=o?function(){return a}:a}}return e};var n=new v.bindingProvider;v.utils.ieVersion<9&&(v.components.register=function(e){return function(t){return i.createElement(t),e.apply(this,arguments)}}(v.components.register),i.createDocumentFragment=function(e){return function(){var t=e(),n=v.components._allRegisteredComponents;for(var i in n)n.hasOwnProperty(i)&&t.createElement(i);return t}}(i.createDocumentFragment))}(),function(e){function t(e,t,n){var i=t.template;if(!i)throw new Error("Component '"+e+"' has no template");var o=v.utils.cloneNodes(i);v.virtualElements.setDomNodeChildren(n,o)}function n(e,t,n,i){var o=e.createViewModel;return o?o.call(e,i,{element:t,templateNodes:n}):i}var i=0;v.bindingHandlers.component={init:function(o,r,a,s,l){var u,c,p=function(){var e=u&&u.dispose;"function"==typeof e&&e.call(u),u=null,c=null},d=v.utils.makeArray(v.virtualElements.childNodes(o));return v.utils.domNodeDisposal.addDisposeCallback(o,p),v.computed(function(){var a,s,m=v.utils.unwrapObservable(r());if("string"==typeof m?a=m:(a=v.utils.unwrapObservable(m.name),s=v.utils.unwrapObservable(m.params)),!a)throw new Error("No component name specified");var f=c=++i;v.components.get(a,function(i){if(c===f){if(p(),!i)throw new Error("Unknown component '"+a+"'");t(a,i,o);var r=n(i,o,d,s),m=l.createChildContext(r,e,function(e){e.$component=r,e.$componentTemplateNodes=d});u=r,v.applyBindingsToDescendants(m,o)}})},null,{disposeWhenNodeIsRemoved:o}),{controlsDescendantBindings:!0}}},v.virtualElements.allowedBindings.component=!0}();var I={class:"className",for:"htmlFor"};v.bindingHandlers.attr={update:function(e,n,i){var o=v.utils.unwrapObservable(n())||{};v.utils.objectForEach(o,function(n,i){i=v.utils.unwrapObservable(i);var o=i===!1||null===i||i===t;o&&e.removeAttribute(n),v.utils.ieVersion<=8&&n in I?(n=I[n],o?e.removeAttribute(n):e[n]=i):o||e.setAttribute(n,i.toString()),"name"===n&&v.utils.setElementName(e,o?"":i.toString())})}},function(){v.bindingHandlers.checked={after:["value","attr"],init:function(e,n,i){function o(){var t=e.checked,o=m?a():t;if(!v.computedContext.isInitial()&&(!l||t)){var r=v.dependencyDetection.ignore(n);if(c){var s=p?r.peek():r;d!==o?(t&&(v.utils.addOrRemoveItem(s,o,!0),v.utils.addOrRemoveItem(s,d,!1)),d=o):v.utils.addOrRemoveItem(s,o,t),p&&v.isWriteableObservable(r)&&r(s)}else v.expressionRewriting.writeValueToProperty(r,i,"checked",o,!0)}}function r(){var t=v.utils.unwrapObservable(n());c?e.checked=v.utils.arrayIndexOf(t,a())>=0:s?e.checked=t:e.checked=a()===t}var a=v.pureComputed(function(){return i.has("checkedValue")?v.utils.unwrapObservable(i.get("checkedValue")):i.has("value")?v.utils.unwrapObservable(i.get("value")):e.value}),s="checkbox"==e.type,l="radio"==e.type;if(s||l){var u=n(),c=s&&v.utils.unwrapObservable(u)instanceof Array,p=!(c&&u.push&&u.splice),d=c?a():t,m=l||c;l&&!e.name&&v.bindingHandlers.uniqueName.init(e,function(){return!0}),v.computed(o,null,{disposeWhenNodeIsRemoved:e}),v.utils.registerEventHandler(e,"click",o),v.computed(r,null,{disposeWhenNodeIsRemoved:e}),u=t}}},v.expressionRewriting.twoWayBindings.checked=!0,v.bindingHandlers.checkedValue={update:function(e,t){e.value=v.utils.unwrapObservable(t())}}}();var A="__ko__cssValue";v.bindingHandlers.css={update:function(e,t){var n=v.utils.unwrapObservable(t());null!==n&&"object"==typeof n?v.utils.objectForEach(n,function(t,n){n=v.utils.unwrapObservable(n),v.utils.toggleDomNodeCssClass(e,t,n)}):(n=v.utils.stringTrim(String(n||"")),v.utils.toggleDomNodeCssClass(e,e[A],!1),e[A]=n,v.utils.toggleDomNodeCssClass(e,n,!0))}},v.bindingHandlers.enable={update:function(e,t){var n=v.utils.unwrapObservable(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},v.bindingHandlers.disable={update:function(e,t){v.bindingHandlers.enable.update(e,function(){return!v.utils.unwrapObservable(t())})}},v.bindingHandlers.event={init:function(e,t,n,i,o){var r=t()||{};v.utils.objectForEach(r,function(r){"string"==typeof r&&v.utils.registerEventHandler(e,r,function(e){var a,s=t()[r];if(s){try{var l=v.utils.makeArray(arguments);i=o.$data,l.unshift(i),a=s.apply(i,l)}finally{a!==!0&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}var u=n.get(r+"Bubble")!==!1;u||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},v.bindingHandlers.foreach={makeTemplateValueAccessor:function(e){return function(){var t=e(),n=v.utils.peekObservable(t);return n&&"number"!=typeof n.length?(v.utils.unwrapObservable(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:v.nativeTemplateEngine.instance}):{foreach:t,templateEngine:v.nativeTemplateEngine.instance}}},init:function(e,t,n,i,o){return v.bindingHandlers.template.init(e,v.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(e,t,n,i,o){return v.bindingHandlers.template.update(e,v.bindingHandlers.foreach.makeTemplateValueAccessor(t),n,i,o)}},v.expressionRewriting.bindingRewriteValidators.foreach=!1,v.virtualElements.allowedBindings.foreach=!0;var R="__ko_hasfocusUpdating",B="__ko_hasfocusLastValue";v.bindingHandlers.hasfocus={init:function(e,t,n){var i=function(i){e[R]=!0;var o=e.ownerDocument;if("activeElement"in o){var r;try{r=o.activeElement}catch(e){r=o.body}i=r===e}var a=t();v.expressionRewriting.writeValueToProperty(a,n,"hasfocus",i,!0),e[B]=i,e[R]=!1},o=i.bind(null,!0),r=i.bind(null,!1);v.utils.registerEventHandler(e,"focus",o),v.utils.registerEventHandler(e,"focusin",o),v.utils.registerEventHandler(e,"blur",r),v.utils.registerEventHandler(e,"focusout",r)},update:function(e,t){var n=!!v.utils.unwrapObservable(t());e[R]||e[B]===n||(n?e.focus():e.blur(),!n&&e[B]&&e.ownerDocument.body.focus(),v.dependencyDetection.ignore(v.utils.triggerEvent,null,[e,n?"focusin":"focusout"]))}},v.expressionRewriting.twoWayBindings.hasfocus=!0,v.bindingHandlers.hasFocus=v.bindingHandlers.hasfocus,v.expressionRewriting.twoWayBindings.hasFocus=!0,v.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){v.utils.setHtml(e,t())}},b("if"),b("ifnot",!1,!0),b("with",!0,!1,function(e,t){return e.createChildContext(t)});var V={};v.bindingHandlers.options={init:function(e){if("select"!==v.utils.tagNameLower(e))throw new Error("options binding applies only to SELECT elements");for(;e.length>0;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,n,i){function o(){return v.utils.arrayFilter(e.options,function(e){return e.selected})}function r(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}function a(n,o,a){a.length&&(b=!f&&a[0].selected?[v.selectExtensions.readValue(a[0])]:[],y=!0);var s=e.ownerDocument.createElement("option");if(n===V)v.utils.setTextContent(s,i.get("optionsCaption")),v.selectExtensions.writeValue(s,t);else{var l=r(n,i.get("optionsValue"),n);v.selectExtensions.writeValue(s,v.utils.unwrapObservable(l));var u=r(n,i.get("optionsText"),l);v.utils.setTextContent(s,u)}return[s]}function s(t,n){if(y&&f)v.selectExtensions.writeValue(e,v.utils.unwrapObservable(i.get("value")),!0);else if(b.length){var o=v.utils.arrayIndexOf(b,v.selectExtensions.readValue(n[0]))>=0;v.utils.setOptionNodeSelectionState(n[0],o),y&&!o&&v.dependencyDetection.ignore(v.utils.triggerEvent,null,[e,"change"])}}var l,u,c=0==e.length,p=e.multiple,d=!c&&p?e.scrollTop:null,m=v.utils.unwrapObservable(n()),f=i.get("valueAllowUnset")&&i.has("value"),h=i.get("optionsIncludeDestroyed"),g={},b=[];f||(p?b=v.utils.arrayMap(o(),v.selectExtensions.readValue):e.selectedIndex>=0&&b.push(v.selectExtensions.readValue(e.options[e.selectedIndex]))),m&&("undefined"==typeof m.length&&(m=[m]),u=v.utils.arrayFilter(m,function(e){return h||e===t||null===e||!v.utils.unwrapObservable(e._destroy)}),i.has("optionsCaption")&&(l=v.utils.unwrapObservable(i.get("optionsCaption")),null!==l&&l!==t&&u.unshift(V)));var y=!1;g.beforeRemove=function(t){e.removeChild(t)};var w=s;i.has("optionsAfterRender")&&"function"==typeof i.get("optionsAfterRender")&&(w=function(e,n){s(e,n),v.dependencyDetection.ignore(i.get("optionsAfterRender"),null,[n[0],e!==V?e:t])}),v.utils.setDomNodeChildrenFromArrayMapping(e,u,a,g,w),v.dependencyDetection.ignore(function(){if(f)v.selectExtensions.writeValue(e,v.utils.unwrapObservable(i.get("value")),!0);else{var t;t=p?b.length&&o().length<b.length:b.length&&e.selectedIndex>=0?v.selectExtensions.readValue(e.options[e.selectedIndex])!==b[0]:b.length||e.selectedIndex>=0,t&&v.utils.triggerEvent(e,"change")}}),v.utils.ensureSelectElementIsRenderedCorrectly(e),d&&Math.abs(d-e.scrollTop)>20&&(e.scrollTop=d)}},v.bindingHandlers.options.optionValueDomDataKey=v.utils.domData.nextKey(),v.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(e,t,n){v.utils.registerEventHandler(e,"change",function(){var i=t(),o=[];v.utils.arrayForEach(e.getElementsByTagName("option"),function(e){e.selected&&o.push(v.selectExtensions.readValue(e))}),v.expressionRewriting.writeValueToProperty(i,n,"selectedOptions",o)})},update:function(e,t){if("select"!=v.utils.tagNameLower(e))throw new Error("values binding applies only to SELECT elements");var n=v.utils.unwrapObservable(t()),i=e.scrollTop;n&&"number"==typeof n.length&&v.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var t=v.utils.arrayIndexOf(n,v.selectExtensions.readValue(e))>=0;e.selected!=t&&v.utils.setOptionNodeSelectionState(e,t)}),e.scrollTop=i}},v.expressionRewriting.twoWayBindings.selectedOptions=!0,v.bindingHandlers.style={update:function(e,n){var i=v.utils.unwrapObservable(n()||{});v.utils.objectForEach(i,function(n,i){i=v.utils.unwrapObservable(i),null!==i&&i!==t&&i!==!1||(i=""),e.style[n]=i})}},v.bindingHandlers.submit={init:function(e,t,n,i,o){if("function"!=typeof t())throw new Error("The value for a submit binding must be a function");v.utils.registerEventHandler(e,"submit",function(n){var i,r=t();
try{i=r.call(o.$data,e)}finally{i!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},v.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){v.utils.setTextContent(e,t())}},v.virtualElements.allowedBindings.text=!0,function(){if(n&&n.navigator)var i=function(e){if(e)return parseFloat(e[1])},o=n.opera&&n.opera.version&&parseInt(n.opera.version()),r=n.navigator.userAgent,a=i(r.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),s=i(r.match(/Firefox\/([^ ]*)/));if(v.utils.ieVersion<10)var l=v.utils.domData.nextKey(),u=v.utils.domData.nextKey(),c=function(e){var t=this.activeElement,n=t&&v.utils.domData.get(t,u);n&&n(e)},p=function(e,t){var n=e.ownerDocument;v.utils.domData.get(n,l)||(v.utils.domData.set(n,l,!0),v.utils.registerEventHandler(n,"selectionchange",c)),v.utils.domData.set(e,u,t)};v.bindingHandlers.textInput={init:function(n,i,r){var l,u,c=n.value,d=function(o){clearTimeout(l),u=l=t;var a=n.value;c!==a&&(e&&o&&(n._ko_textInputProcessedEvent=o.type),c=a,v.expressionRewriting.writeValueToProperty(i(),r,"textInput",a))},m=function(t){if(!l){u=n.value;var i=e?d.bind(n,{type:t.type}):d;l=v.utils.setTimeout(i,4)}},f=9==v.utils.ieVersion?m:d,h=function(){var e=v.utils.unwrapObservable(i());return null!==e&&e!==t||(e=""),u!==t&&e===u?void v.utils.setTimeout(h,4):void(n.value!==e&&(c=e,n.value=e))},g=function(e,t){v.utils.registerEventHandler(n,e,t)};e&&v.bindingHandlers.textInput._forceUpdateOn?v.utils.arrayForEach(v.bindingHandlers.textInput._forceUpdateOn,function(e){"after"==e.slice(0,5)?g(e.slice(5),m):g(e,d)}):v.utils.ieVersion<10?(g("propertychange",function(e){"value"===e.propertyName&&f(e)}),8==v.utils.ieVersion&&(g("keyup",d),g("keydown",d)),v.utils.ieVersion>=8&&(p(n,f),g("dragend",m))):(g("input",d),a<5&&"textarea"===v.utils.tagNameLower(n)?(g("keydown",m),g("paste",m),g("cut",m)):o<11?g("keydown",m):s<4&&(g("DOMAutoComplete",d),g("dragdrop",d),g("drop",d))),g("change",d),v.computed(h,null,{disposeWhenNodeIsRemoved:n})}},v.expressionRewriting.twoWayBindings.textInput=!0,v.bindingHandlers.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),v.bindingHandlers.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++v.bindingHandlers.uniqueName.currentIndex;v.utils.setElementName(e,n)}}},v.bindingHandlers.uniqueName.currentIndex=0,v.bindingHandlers.value={after:["options","foreach"],init:function(e,t,n){if("input"==e.tagName.toLowerCase()&&("checkbox"==e.type||"radio"==e.type))return void v.applyBindingAccessorsToNode(e,{checkedValue:t});var i=["change"],o=n.get("valueUpdate"),r=!1,a=null;o&&("string"==typeof o&&(o=[o]),v.utils.arrayPushAll(i,o),i=v.utils.arrayGetDistinctValues(i));var s=function(){a=null,r=!1;var i=t(),o=v.selectExtensions.readValue(e);v.expressionRewriting.writeValueToProperty(i,n,"value",o)},l=v.utils.ieVersion&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&"off"!=e.autocomplete&&(!e.form||"off"!=e.form.autocomplete);l&&v.utils.arrayIndexOf(i,"propertychange")==-1&&(v.utils.registerEventHandler(e,"propertychange",function(){r=!0}),v.utils.registerEventHandler(e,"focus",function(){r=!1}),v.utils.registerEventHandler(e,"blur",function(){r&&s()})),v.utils.arrayForEach(i,function(t){var n=s;v.utils.stringStartsWith(t,"after")&&(n=function(){a=v.selectExtensions.readValue(e),v.utils.setTimeout(s,0)},t=t.substring("after".length)),v.utils.registerEventHandler(e,t,n)});var u=function(){var i=v.utils.unwrapObservable(t()),o=v.selectExtensions.readValue(e);if(null!==a&&i===a)return void v.utils.setTimeout(u,0);var r=i!==o;if(r)if("select"===v.utils.tagNameLower(e)){var s=n.get("valueAllowUnset"),l=function(){v.selectExtensions.writeValue(e,i,s)};l(),s||i===v.selectExtensions.readValue(e)?v.utils.setTimeout(l,0):v.dependencyDetection.ignore(v.utils.triggerEvent,null,[e,"change"])}else v.selectExtensions.writeValue(e,i)};v.computed(u,null,{disposeWhenNodeIsRemoved:e})},update:function(){}},v.expressionRewriting.twoWayBindings.value=!0,v.bindingHandlers.visible={update:function(e,t){var n=v.utils.unwrapObservable(t()),i=!("none"==e.style.display);n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},g("click"),v.templateEngine=function(){},v.templateEngine.prototype.renderTemplateSource=function(e,t,n,i){throw new Error("Override renderTemplateSource")},v.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(e){throw new Error("Override createJavaScriptEvaluatorBlock")},v.templateEngine.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||i;var n=t.getElementById(e);if(!n)throw new Error("Cannot find template with ID "+e);return new v.templateSources.domElement(n)}if(1==e.nodeType||8==e.nodeType)return new v.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},v.templateEngine.prototype.renderTemplate=function(e,t,n,i){var o=this.makeTemplateSource(e,i);return this.renderTemplateSource(o,t,n,i)},v.templateEngine.prototype.isTemplateRewritten=function(e,t){return this.allowTemplateRewriting===!1||this.makeTemplateSource(e,t).data("isRewritten")},v.templateEngine.prototype.rewriteTemplate=function(e,t,n){var i=this.makeTemplateSource(e,n),o=t(i.text());i.text(o),i.data("isRewritten",!0)},v.exportSymbol("templateEngine",v.templateEngine),v.templateRewriting=function(){function e(e){for(var t=v.expressionRewriting.bindingRewriteValidators,n=0;n<e.length;n++){var i=e[n].key;if(t.hasOwnProperty(i)){var o=t[i];if("function"==typeof o){var r=o(e[n].value);if(r)throw new Error(r)}else if(!o)throw new Error("This template engine does not support the '"+i+"' binding within its templates")}}}function t(t,n,i,o){var r=v.expressionRewriting.parseObjectLiteral(t);e(r);var a=v.expressionRewriting.preProcessBindings(r,{valueAccessors:!0}),s="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a+" } })()},'"+i.toLowerCase()+"')";return o.createJavaScriptEvaluatorBlock(s)+n}var n=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return v.templateRewriting.memoizeBindingAttributeSyntax(e,t)},n)},memoizeBindingAttributeSyntax:function(e,o){return e.replace(n,function(){return t(arguments[4],arguments[1],arguments[2],o)}).replace(i,function(){return t(arguments[1],"<!-- ko -->","#comment",o)})},applyMemoizedBindingsToNextSibling:function(e,t){return v.memoization.memoize(function(n,i){var o=n.nextSibling;o&&o.nodeName.toLowerCase()===t&&v.applyBindingAccessorsToNode(o,e,i)})}}}(),v.exportSymbol("__tr_ambtns",v.templateRewriting.applyMemoizedBindingsToNextSibling),function(){function e(e){return v.utils.domData.get(e,l)||{}}function n(e,t){v.utils.domData.set(e,l,t)}v.templateSources={};var i=1,o=2,r=3,a=4;v.templateSources.domElement=function(e){if(this.domElement=e,e){var t=v.utils.tagNameLower(e);this.templateType="script"===t?i:"textarea"===t?o:"template"==t&&e.content&&11===e.content.nodeType?r:a}},v.templateSources.domElement.prototype.text=function(){var e=this.templateType===i?"text":this.templateType===o?"value":"innerHTML";if(0==arguments.length)return this.domElement[e];var t=arguments[0];"innerHTML"===e?v.utils.setHtml(this.domElement,t):this.domElement[e]=t};var s=v.utils.domData.nextKey()+"_";v.templateSources.domElement.prototype.data=function(e){return 1===arguments.length?v.utils.domData.get(this.domElement,s+e):void v.utils.domData.set(this.domElement,s+e,arguments[1])};var l=v.utils.domData.nextKey();v.templateSources.domElement.prototype.nodes=function(){var i=this.domElement;if(0==arguments.length){var o=e(i),s=o.containerData;return s||(this.templateType===r?i.content:this.templateType===a?i:t)}var l=arguments[0];n(i,{containerData:l})},v.templateSources.anonymousTemplate=function(e){this.domElement=e},v.templateSources.anonymousTemplate.prototype=new v.templateSources.domElement,v.templateSources.anonymousTemplate.prototype.constructor=v.templateSources.anonymousTemplate,v.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var i=e(this.domElement);return i.textData===t&&i.containerData&&(i.textData=i.containerData.innerHTML),i.textData}var o=arguments[0];n(this.domElement,{textData:o})},v.exportSymbol("templateSources",v.templateSources),v.exportSymbol("templateSources.domElement",v.templateSources.domElement),v.exportSymbol("templateSources.anonymousTemplate",v.templateSources.anonymousTemplate)}(),function(){function e(e,t,n){for(var i,o=e,r=v.virtualElements.nextSibling(t);o&&(i=o)!==r;)o=v.virtualElements.nextSibling(i),n(i,o)}function n(t,n){if(t.length){var i=t[0],o=t[t.length-1],r=i.parentNode,a=v.bindingProvider.instance,s=a.preprocessNode;if(s){if(e(i,o,function(e,t){var n=e.previousSibling,r=s.call(a,e);r&&(e===i&&(i=r[0]||t),e===o&&(o=r[r.length-1]||n))}),t.length=0,!i)return;i===o?t.push(i):(t.push(i,o),v.utils.fixUpContinuousNodeArray(t,r))}e(i,o,function(e){1!==e.nodeType&&8!==e.nodeType||v.applyBindings(n,e)}),e(i,o,function(e){1!==e.nodeType&&8!==e.nodeType||v.memoization.unmemoizeDomNodeAndDescendants(e,[n])}),v.utils.fixUpContinuousNodeArray(t,r)}}function i(e){return e.nodeType?e:e.length>0?e[0]:null}function o(e,t,o,r,a){a=a||{};var l=e&&i(e),u=(l||o||{}).ownerDocument,c=a.templateEngine||s;v.templateRewriting.ensureTemplateIsRewritten(o,c,u);var p=c.renderTemplate(o,r,a,u);if("number"!=typeof p.length||p.length>0&&"number"!=typeof p[0].nodeType)throw new Error("Template engine must return an array of DOM nodes");var d=!1;switch(t){case"replaceChildren":v.virtualElements.setDomNodeChildren(e,p),d=!0;break;case"replaceNode":v.utils.replaceDomNodes(e,p),d=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+t)}return d&&(n(p,r),a.afterRender&&v.dependencyDetection.ignore(a.afterRender,null,[p,r.$data])),p}function r(e,t,n){return v.isObservable(e)?e():"function"==typeof e?e(t,n):e}function a(e,n){var i=v.utils.domData.get(e,l);i&&"function"==typeof i.dispose&&i.dispose(),v.utils.domData.set(e,l,n&&n.isActive()?n:t)}var s;v.setTemplateEngine=function(e){if(e!=t&&!(e instanceof v.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");s=e},v.renderTemplate=function(e,n,a,l,u){if(a=a||{},(a.templateEngine||s)==t)throw new Error("Set a template engine before calling renderTemplate");if(u=u||"replaceChildren",l){var c=i(l),p=function(){return!c||!v.utils.domNodeIsAttachedToDocument(c)},d=c&&"replaceNode"==u?c.parentNode:c;return v.dependentObservable(function(){var t=n&&n instanceof v.bindingContext?n:new v.bindingContext(v.utils.unwrapObservable(n)),s=r(e,t.$data,t),p=o(l,u,s,t,a);"replaceNode"==u&&(l=p,c=i(l))},null,{disposeWhen:p,disposeWhenNodeIsRemoved:d})}return v.memoization.memoize(function(t){v.renderTemplate(e,n,a,t,"replaceNode")})},v.renderTemplateForEach=function(e,i,a,s,l){var u,c=function(t,n){u=l.createChildContext(t,a.as,function(e){e.$index=n});var i=r(e,t,u);return o(null,"ignoreTargetNode",i,u,a)},p=function(e,t,i){n(t,u),a.afterRender&&a.afterRender(t,e),u=null};return v.dependentObservable(function(){var e=v.utils.unwrapObservable(i)||[];"undefined"==typeof e.length&&(e=[e]);var n=v.utils.arrayFilter(e,function(e){return a.includeDestroyed||e===t||null===e||!v.utils.unwrapObservable(e._destroy)});v.dependencyDetection.ignore(v.utils.setDomNodeChildrenFromArrayMapping,null,[s,n,c,a,p])},null,{disposeWhenNodeIsRemoved:s})};var l=v.utils.domData.nextKey();v.bindingHandlers.template={init:function(e,t){var n=v.utils.unwrapObservable(t());if("string"==typeof n||n.name)v.virtualElements.emptyNode(e);else if("nodes"in n){var i=n.nodes||[];if(v.isObservable(i))throw new Error('The "nodes" option must be a plain, non-observable array.');var o=v.utils.moveCleanedNodesToContainerElement(i);new v.templateSources.anonymousTemplate(e).nodes(o)}else{var r=v.virtualElements.childNodes(e),o=v.utils.moveCleanedNodesToContainerElement(r);new v.templateSources.anonymousTemplate(e).nodes(o)}return{controlsDescendantBindings:!0}},update:function(e,t,n,i,o){var r,s,l=t(),u=v.utils.unwrapObservable(l),c=!0,p=null;if("string"==typeof u?(s=l,u={}):(s=u.name,"if"in u&&(c=v.utils.unwrapObservable(u.if)),c&&"ifnot"in u&&(c=!v.utils.unwrapObservable(u.ifnot)),r=v.utils.unwrapObservable(u.data)),"foreach"in u){var d=c&&u.foreach||[];p=v.renderTemplateForEach(s||e,d,u,e,o)}else if(c){var m="data"in u?o.createChildContext(r,u.as):o;p=v.renderTemplate(s||e,m,u,e)}else v.virtualElements.emptyNode(e);a(e,p)}},v.expressionRewriting.bindingRewriteValidators.template=function(e){var t=v.expressionRewriting.parseObjectLiteral(e);return 1==t.length&&t[0].unknown?null:v.expressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},v.virtualElements.allowedBindings.template=!0}(),v.exportSymbol("setTemplateEngine",v.setTemplateEngine),v.exportSymbol("renderTemplate",v.renderTemplate),v.utils.findMovesInArrayComparison=function(e,t,n){if(e.length&&t.length){var i,o,r,a,s;for(i=o=0;(!n||i<n)&&(a=e[o]);++o){for(r=0;s=t[r];++r)if(a.value===s.value){a.moved=s.index,s.moved=a.index,t.splice(r,1),i=r=0;break}i+=r}}},v.utils.compareArrays=function(){function e(e,o,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},e=e||[],o=o||[],e.length<o.length?t(e,o,n,i,r):t(o,e,i,n,r)}function t(e,t,n,i,o){var r,a,s,l,u,c,p=Math.min,d=Math.max,m=[],f=e.length,h=t.length,g=h-f||1,b=f+h+1;for(r=0;r<=f;r++)for(l=s,m.push(s=[]),u=p(h,r+g),c=d(0,r-1),a=c;a<=u;a++)if(a)if(r)if(e[r-1]===t[a-1])s[a]=l[a-1];else{var y=l[a]||b,w=s[a-1]||b;s[a]=p(y,w)+1}else s[a]=a+1;else s[a]=r+1;var x,E=[],S=[],_=[];for(r=f,a=h;r||a;)x=m[r][a]-1,a&&x===m[r][a-1]?S.push(E[E.length]={status:n,value:t[--a],index:a}):r&&x===m[r-1][a]?_.push(E[E.length]={status:i,value:e[--r],index:r}):(--a,--r,o.sparse||E.push({status:"retained",value:t[a]}));return v.utils.findMovesInArrayComparison(_,S,!o.dontLimitMoves&&10*f),E.reverse()}var n="added",i="deleted";return e}(),v.exportSymbol("utils.compareArrays",v.utils.compareArrays),function(){function e(e,n,i,o,r){var a=[],s=v.dependentObservable(function(){var t=n(i,r,v.utils.fixUpContinuousNodeArray(a,e))||[];a.length>0&&(v.utils.replaceDomNodes(a,t),o&&v.dependencyDetection.ignore(o,null,[i,t,r])),a.length=0,v.utils.arrayPushAll(a,t)},null,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return!v.utils.anyDomNodeIsAttachedToDocument(a)}});return{mappedNodes:a,dependentObservable:s.isActive()?s:t}}var n=v.utils.domData.nextKey(),i=v.utils.domData.nextKey();v.utils.setDomNodeChildrenFromArrayMapping=function(o,r,a,s,l){function u(e,t){p=h[t],x!==t&&(N[e]=p),p.indexObservable(x++),v.utils.fixUpContinuousNodeArray(p.mappedNodes,o),y.push(p),S.push(p)}function c(e,t){if(e)for(var n=0,i=t.length;n<i;n++)t[n]&&v.utils.arrayForEach(t[n].mappedNodes,function(i){e(i,n,t[n].arrayEntry)})}r=r||[],s=s||{};for(var p,d,m,f=v.utils.domData.get(o,n)===t,h=v.utils.domData.get(o,n)||[],g=v.utils.arrayMap(h,function(e){return e.arrayEntry}),b=v.utils.compareArrays(g,r,s.dontLimitMoves),y=[],w=0,x=0,E=[],S=[],_=[],N=[],C=[],T=0;d=b[T];T++)switch(m=d.moved,d.status){case"deleted":m===t&&(p=h[w],p.dependentObservable&&(p.dependentObservable.dispose(),p.dependentObservable=t),v.utils.fixUpContinuousNodeArray(p.mappedNodes,o).length&&(s.beforeRemove&&(y.push(p),S.push(p),p.arrayEntry===i?p=null:_[T]=p),p&&E.push.apply(E,p.mappedNodes))),w++;break;case"retained":u(T,w++);break;case"added":m!==t?u(T,m):(p={arrayEntry:d.value,indexObservable:v.observable(x++)},y.push(p),S.push(p),f||(C[T]=p))}v.utils.domData.set(o,n,y),c(s.beforeMove,N),v.utils.arrayForEach(E,s.beforeRemove?v.cleanNode:v.removeNode);for(var k,D,T=0,O=v.virtualElements.firstChild(o);p=S[T];T++){p.mappedNodes||v.utils.extend(p,e(o,a,p.arrayEntry,l,p.indexObservable));for(var I=0;D=p.mappedNodes[I];O=D.nextSibling,k=D,I++)D!==O&&v.virtualElements.insertAfter(o,D,k);!p.initialized&&l&&(l(p.arrayEntry,p.mappedNodes,p.indexObservable),p.initialized=!0)}for(c(s.beforeRemove,_),T=0;T<_.length;++T)_[T]&&(_[T].arrayEntry=i);c(s.afterMove,N),c(s.afterAdd,C)}}(),v.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",v.utils.setDomNodeChildrenFromArrayMapping),v.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},v.nativeTemplateEngine.prototype=new v.templateEngine,v.nativeTemplateEngine.prototype.constructor=v.nativeTemplateEngine,v.nativeTemplateEngine.prototype.renderTemplateSource=function(e,t,n,i){var o=!(v.utils.ieVersion<9),r=o?e.nodes:null,a=r?e.nodes():null;if(a)return v.utils.makeArray(a.cloneNode(!0).childNodes);var s=e.text();return v.utils.parseHtmlFragment(s,i)},v.nativeTemplateEngine.instance=new v.nativeTemplateEngine,v.setTemplateEngine(v.nativeTemplateEngine.instance),v.exportSymbol("nativeTemplateEngine",v.nativeTemplateEngine),function(){v.jqueryTmplTemplateEngine=function(){function e(){if(n<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function t(e,t,n){return r.tmpl(e,t,n)}var n=this.jQueryTmplVersion=function(){if(!r||!r.tmpl)return 0;try{if(r.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,o,a,s){s=s||i,a=a||{},e();var l=n.data("precompiled");if(!l){var u=n.text()||"";u="{{ko_with $item.koBindingContext}}"+u+"{{/ko_with}}",l=r.template(null,u),n.data("precompiled",l)}var c=[o.$data],p=r.extend({koBindingContext:o},a.templateOptions),d=t(l,c,p);return d.appendTo(s.createElement("div")),r.fragments={},d},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){i.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},n>0&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},v.jqueryTmplTemplateEngine.prototype=new v.templateEngine,v.jqueryTmplTemplateEngine.prototype.constructor=v.jqueryTmplTemplateEngine;var e=new v.jqueryTmplTemplateEngine;e.jQueryTmplVersion>0&&v.setTemplateEngine(e),v.exportSymbol("jqueryTmplTemplateEngine",v.jqueryTmplTemplateEngine)}()})}()}();var loadDefLocs=function(){return[{address_components:[{long_name:"Poonamallee",short_name:"Poonamallee",types:["sublocality_level_1","sublocality","political"]},{long_name:"Chennai",short_name:"Chennai",types:["locality","political"]},{long_name:"Tiruvallur",short_name:"Tiruvallur",types:["administrative_area_level_2","political"]},{long_name:"Tamil Nadu",short_name:"TN",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]}],adr_address:'<span class="extended-address">Poonamallee</span>, <span class="locality">Chennai</span>, <span class="region">Tamil Nadu</span>, <span class="country-name">India</span>',formatted_address:"Poonamallee, Chennai, Tamil Nadu, India",geometry:{location:{lat:13.0472609,lng:80.09453069999995},viewport:{south:13.030538,west:80.08268109999995,north:13.0579309,east:80.12208299999998}},icon:"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png",id:"f3a0acfeb18cf313792febf07a0b3c30edebf580",name:"Poonamallee",photos:[{height:3456,html_attributions:['<a href="https://maps.google.com/maps/contrib/104689430293140711475/photos">Velu dharan</a>'],width:4608},{height:755,html_attributions:['<a href="https://maps.google.com/maps/contrib/100455712126997568960/photos">Vikram Sangwan</a>'],width:480},{height:774,html_attributions:['<a href="https://maps.google.com/maps/contrib/112863178450715434805/photos">SELVARAJ RAMCHANDRAN</a>'],width:1032},{height:2304,html_attributions:['<a href="https://maps.google.com/maps/contrib/112488502145091492846/photos">Charles Benaiah</a>'],width:3456},{height:776,html_attributions:['<a href="https://maps.google.com/maps/contrib/114048476455896328904/photos">Vettry Tamilan</a>'],width:1296},{height:2560,html_attributions:['<a href="https://maps.google.com/maps/contrib/100133542470933450694/photos">Mari Muthu</a>'],width:1440},{height:960,html_attributions:['<a href="https://maps.google.com/maps/contrib/111009290453020275332/photos">Arasan N</a>'],width:1440},{height:3456,html_attributions:['<a href="https://maps.google.com/maps/contrib/103611852882972965339/photos">Ks Builders</a>'],width:5184},{height:2448,html_attributions:['<a href="https://maps.google.com/maps/contrib/117367609823359784658/photos">Karthi Ns</a>'],width:3264},{height:2448,html_attributions:['<a href="https://maps.google.com/maps/contrib/112488502145091492846/photos">Charles Benaiah</a>'],width:3264}],place_id:"ChIJB-ZMSsRhUjoRsOok4P0jm3Q",reference:"CpQBhQAAAD6u8cEC-U4HX4aJLTXmJ2OvB_3eKbIGFB0pBX0wDkX2foN0BZ5eXmVJ9nKXVlUvggKXBLvuETkn9nRwsP97nK-ze-pivc4RaIFGjVyRLGIlRJTO1dXrLVHvii6dUH6V2cwETXlZ58RNfFtoSd0Iq2sJs2b8J30Pho--tqg1VB7CkLkL2xiVmd4dRH9iT2scpBIQSlWgCgemA_5PT_a9hOXiEhoUdXVga0Fff3t9EBkRZ3Yz6aU3tak",scope:"GOOGLE",types:["sublocality_level_1","sublocality","political"],url:"https://maps.google.com/?q=Poonamallee,+Chennai,+Tamil+Nadu,+India&ftid=0x3a5261c44a4ce607:0x749b23fde024eab0",utc_offset:330,vicinity:"Poonamallee",html_attributions:[]},{address_components:[{long_name:"Kanchipuram",short_name:"Kanchipuram",types:["locality","political"]},{long_name:"Kanchipuram",short_name:"Kanchipuram",types:["administrative_area_level_2","political"]},{long_name:"Tamil Nadu",short_name:"TN",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]}],adr_address:'<span class="locality">Kanchipuram</span>, <span class="region">Tamil Nadu</span>, <span class="country-name">India</span>',formatted_address:"Kanchipuram, Tamil Nadu, India",geometry:{location:{lat:12.8341735,lng:79.7036402},viewport:{south:12.7966484,west:79.67775689999996,north:12.8630495,east:79.74604929999998}},icon:"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png",id:"0a77078c5b2bbe88250bbd90eb59a1da8d101d31",name:"Kanchipuram",photos:[{height:2630,html_attributions:['<a href="https://maps.google.com/maps/contrib/113993957610487850723/photos">Nischith Rk</a>'],width:3976},{height:2322,html_attributions:['<a href="https://maps.google.com/maps/contrib/117359056708337096045/photos">meenakshi sundaram</a>'],width:4128},{height:1441,html_attributions:['<a href="https://maps.google.com/maps/contrib/103744118806390184431/photos">murugesan kandasamy</a>'],width:2560},{height:4288,html_attributions:['<a href="https://maps.google.com/maps/contrib/116165032837977570068/photos">blogspotspam blogspotspam</a>'],width:2848},{height:2322,html_attributions:['<a href="https://maps.google.com/maps/contrib/117359056708337096045/photos">meenakshi sundaram</a>'],width:4128},{height:728,html_attributions:['<a href="https://maps.google.com/maps/contrib/114720669645202190424/photos">Venkatesh Selvam</a>'],width:1296},{height:2870,html_attributions:['<a href="https://maps.google.com/maps/contrib/114052581261409643754/photos">Amar Lal</a>'],width:2869},{height:480,html_attributions:['<a href="https://maps.google.com/maps/contrib/103526797524664397588/photos">Harish G.C</a>'],width:640},{height:2368,html_attributions:['<a href="https://maps.google.com/maps/contrib/103744118806390184431/photos">murugesan kandasamy</a>'],width:4208},{height:4160,html_attributions:['<a href="https://maps.google.com/maps/contrib/108270839249070932315/photos">Vivek Vivek</a>'],width:2340}],place_id:"ChIJLfHH4PfCUjoRTSrLsYKGX94",reference:"CoQBewAAAIRHWnz-ceSdqlGFkVTuVGYYJJOBTXUyKNGh4mIDlGQdM8G6a_-U_ebLsFz6LxMwFvabIU0r5VaHlNcjB5Se1mOpNKyg8i0EB5fB_V7vbwHWuKeolDWHZtBcZNrlVdsr6DBM2qtNgerwpL_2YFifMR_cpGwT6sfzEgI-LquAzUaQEhALPVnS9Bx9ST6gNKVCbVd5GhTXaIYimB163pnhuNrDNoSOMz6P1w",scope:"GOOGLE",types:["locality","political"],url:"https://maps.google.com/?q=Kanchipuram,+Tamil+Nadu,+India&ftid=0x3a52c2f7e0c7f12d:0xde5f8682b1cb2a4d",utc_offset:330,vicinity:"Kanchipuram",html_attributions:[]},{address_components:[{long_name:"Thiruvanmiyur",short_name:"Thiruvanmiyur",types:["sublocality_level_1","sublocality","political"]},{long_name:"Chennai",short_name:"Chennai",types:["locality","political"]},{long_name:"Chennai",short_name:"Chennai",types:["administrative_area_level_2","political"]},{long_name:"Tamil Nadu",short_name:"TN",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]}],adr_address:'<span class="extended-address">Thiruvanmiyur</span>, <span class="locality">Chennai</span>, <span class="region">Tamil Nadu</span>, <span class="country-name">India</span>',formatted_address:"Thiruvanmiyur, Chennai, Tamil Nadu, India",geometry:{location:{lat:12.9830269,lng:80.2594001},viewport:{south:12.9737751,west:80.250853,north:12.996675,east:80.27047199999993}},icon:"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png",id:"ec1b8797484c24f2bfdaf9470cab56dfd1c1b393",name:"Thiruvanmiyur",photos:[{height:3456,html_attributions:['<a href="https://maps.google.com/maps/contrib/104689430293140711475/photos">Velu dharan</a>'],width:4608},{height:3096,html_attributions:['<a href="https://maps.google.com/maps/contrib/114534778094234831332/photos">Naveen Kumar Kotta</a>'],width:4128},{height:1836,html_attributions:['<a href="https://maps.google.com/maps/contrib/108279445947004436054/photos">Upen Shenoy</a>'],width:3264},{height:2400,html_attributions:['<a href="https://maps.google.com/maps/contrib/114315725078277942695/photos">Rajesh Nahar</a>'],width:3600},{height:640,html_attributions:['<a href="https://maps.google.com/maps/contrib/116571666719592035560/photos">Mohanjora P</a>'],width:480},{height:1200,html_attributions:['<a href="https://maps.google.com/maps/contrib/114183141099142547692/photos">VVH Chennai India</a>'],width:810},{height:1063,html_attributions:['<a href="https://maps.google.com/maps/contrib/115610165991072202966/photos">Sridharan Sundaram</a>'],width:1600},{height:1476,html_attributions:['<a href="https://maps.google.com/maps/contrib/114315725078277942695/photos">Rajesh Nahar</a>'],width:2136},{height:913,html_attributions:['<a href="https://maps.google.com/maps/contrib/110292743222259364073/photos">Sai Deepesh</a>'],width:1683},{height:4082,html_attributions:['<a href="https://maps.google.com/maps/contrib/116974628800782118840/photos">Airswings dance studio bobby</a>'],width:6123}],place_id:"ChIJb_w7m1tdUjoRqgv5aXb5WWk",reference:"CpQBhwAAAAQUVGpkjRev5f9AyenJS8uZpal-mw4AGmw_g6FNpNcDONNeaYiEY0aSqnFD1_tsLOzOYx31TG6gIp138DUw2bRTwfVbJ3CzPHlNRJuXVwQBYUf08ofRP66riABBQc9A94mebDOeqNjOHHToHw6lGeQ8b3OxoB5-z9Hl0UVYSyIAKnOQxxnY_bW9L1E1TBNjFhIQFW_upSHT7fU_eq2gOe9IkBoUy6MpHDRmYmMV3i4yqK4tNbi4xd0",scope:"GOOGLE",types:["sublocality_level_1","sublocality","political"],url:"https://maps.google.com/?q=Thiruvanmiyur,+Chennai,+Tamil+Nadu,+India&ftid=0x3a525d5b9b3bfc6f:0x6959f97669f90baa",utc_offset:330,vicinity:"Thiruvanmiyur",html_attributions:[]},{address_components:[{long_name:"Porur",short_name:"Porur",types:["sublocality_level_1","sublocality","political"]},{long_name:"Chennai",short_name:"Chennai",types:["locality","political"]},{long_name:"Chennai",short_name:"Chennai",types:["administrative_area_level_2","political"]},{long_name:"Tamil Nadu",short_name:"TN",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]}],adr_address:'<span class="extended-address">Porur</span>, <span class="locality">Chennai</span>, <span class="region">Tamil Nadu</span>, <span class="country-name">India</span>',formatted_address:"Porur, Chennai, Tamil Nadu, India",geometry:{location:{lat:13.0381896,lng:80.15654610000001},viewport:{south:13.0233498,west:80.13850200000002,north:13.0518159,east:80.17072710000002}},icon:"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png",id:"d843361d50c51540f8e55540f738a700e0800101",name:"Porur",photos:[{height:3120,html_attributions:['<a href="https://maps.google.com/maps/contrib/107793632950557715223/photos">Akshaya Kumar Sahu</a>'],width:4160},{height:854,html_attributions:['<a href="https://maps.google.com/maps/contrib/106980815572999463500/photos">Ben10wesly Francis</a>'],width:960},{height:2448,html_attributions:['<a href="https://maps.google.com/maps/contrib/108076177947960718672/photos">Bhaarath Rajendran</a>'],width:3264},{height:820,html_attributions:['<a href="https://maps.google.com/maps/contrib/114605936533420155323/photos">battha battha</a>'],width:1280},{height:3456,html_attributions:['<a href="https://maps.google.com/maps/contrib/104689430293140711475/photos">Velu dharan</a>'],width:4608},{height:2304,html_attributions:['<a href="https://maps.google.com/maps/contrib/102599426954602832993/photos">Lakshmynarayanan V</a>'],width:4096},{height:3120,html_attributions:['<a href="https://maps.google.com/maps/contrib/102114986156611103493/photos">abdul rahuman a</a>'],width:4208},{height:2034,html_attributions:['<a href="https://maps.google.com/maps/contrib/112153961389890400697/photos">Deenadayalan A</a>'],width:2860},{height:2848,html_attributions:['<a href="https://maps.google.com/maps/contrib/116717727864107382402/photos">Balaji Vijayakumar</a>'],width:4288},{height:1648,html_attributions:['<a href="https://maps.google.com/maps/contrib/109360645919127271135/photos">Karthik Vimaliah</a>'],width:2400}],place_id:"ChIJUY9IkBthUjoRdDAzOzWhZZY",reference:"CoQBfgAAAEOcuwvD1uCbCZEIWJPrua47STEtg5nB9HKgkIhZ0D9v7645aAgSfVbPcVgk3jYae4aiCzW92yUuTQvzdmiNB5g24pvmgm1b7bje8Sto-2pYUPoVR_Yw6NvjJS4mtWFQ_dUfXo5MpsYWcSimiV3l3S5tDJOzF_9QaxtDpQStkOeOEhC3Ww9U1a8VcT98dGe1y4biGhSkW9iCyp08CAJ2ByX1xGWc0w3l1Q",scope:"GOOGLE",types:["sublocality_level_1","sublocality","political"],url:"https://maps.google.com/?q=Porur,+Chennai,+Tamil+Nadu,+India&ftid=0x3a52611b90488f51:0x9665a1353b333074",utc_offset:330,vicinity:"Porur",html_attributions:[]},{address_components:[{long_name:"Anna University",short_name:"Anna University",types:["sublocality_level_2","sublocality","political"]},{long_name:"Kotturpuram",short_name:"Kotturpuram",types:["sublocality_level_1","sublocality","political"]},{long_name:"Chennai",short_name:"Chennai",types:["locality","political"]},{long_name:"Chennai",short_name:"Chennai",types:["administrative_area_level_2","political"]},{long_name:"Tamil Nadu",short_name:"TN",types:["administrative_area_level_1","political"]},{long_name:"India",short_name:"IN",types:["country","political"]}],adr_address:'<span class="extended-address">Anna University, Kotturpuram</span>, <span class="locality">Chennai</span>, <span class="region">Tamil Nadu</span>, <span class="country-name">India</span>',formatted_address:"Anna University, Kotturpuram, Chennai, Tamil Nadu, India",geometry:{location:{lat:13.0110816,lng:80.23631369999998},viewport:{south:13.0069729,west:80.22710499999994,north:13.0150139,east:80.24057700000003}},icon:"https://maps.gstatic.com/mapfiles/place_api/icons/geocode-71.png",id:"7e245b8d86938bbec1a8562e90e9e5cbdaaf2f9a",name:"Anna University",photos:[{height:2848,html_attributions:['<a href="https://maps.google.com/maps/contrib/105356302245748619630/photos">Saravanan RBS</a>'],width:4288},{height:2368,html_attributions:['<a href="https://maps.google.com/maps/contrib/117031815678625168914/photos">lakshmi narayanan</a>'],width:4208},{height:960,html_attributions:['<a href="https://maps.google.com/maps/contrib/115807967588148691914/photos">Asha Zibia</a>'],width:1280},{height:2160,html_attributions:['<a href="https://maps.google.com/maps/contrib/106353296763531749271/photos">Jithin K.P Jitzz</a>'],width:3840},{height:1280,html_attributions:['<a href="https://maps.google.com/maps/contrib/112788204165569131287/photos">logesh kumar</a>'],width:720},{height:1200,html_attributions:['<a href="https://maps.google.com/maps/contrib/100202251713845002120/photos">balakumar Eaganathan</a>'],width:1600},{height:2160,html_attributions:['<a href="https://maps.google.com/maps/contrib/106353296763531749271/photos">Jithin K.P Jitzz</a>'],
width:3840},{height:2592,html_attributions:['<a href="https://maps.google.com/maps/contrib/110039795846064305552/photos">Elango .P</a>'],width:3872},{height:2988,html_attributions:['<a href="https://maps.google.com/maps/contrib/116163947486238077353/photos">J Venkat ramana</a>'],width:5312},{height:2160,html_attributions:['<a href="https://maps.google.com/maps/contrib/106353296763531749271/photos">Jithin K.P Jitzz</a>'],width:3840}],place_id:"ChIJa2D4lZ9nUjoRvMCjcx8I8OE",reference:"CqQBlgAAACXId2V1iOfqgrfSJbPkoPUyHMdmkDOH-uJwWQV7VniAkeH0ZFyGxz3l3lk1Ilf8tjojQu6A6yGkAKc7T5w_M7KOZXP5yYikyAFVW2sxBSmcJAbu7hZiKdw4smdIFkAqwlRT9IuWlSBh8pExmnnfkpsRwOr1Sw62GTDC_jOCdZ2C2mZx4OtsNcXvozJSSHTvGyUum1O3WgIqRwfEzndonaoSEM3nORIQRioLE_lzqP4YrRIaFAKoP8WiDunStQeVtTB2aohz2Jcl",scope:"GOOGLE",types:["sublocality_level_2","sublocality","political"],url:"https://maps.google.com/?q=Anna+University,+Kotturpuram,+Chennai,+Tamil+Nadu,+India&ftid=0x3a52679f95f8606b:0xe1f0081f73a3c0bc",utc_offset:330,vicinity:"Anna University",html_attributions:[]}]},ViewModel=function(){var e=this,t='<div class="infoWindow"><header>%title%</header><section>%content%</section><article><a href="%wikilink%">Wikipedia</a></article></div>';e.showMarkersDiv=ko.observable(!1),e.bindGoogleAutoComplete=function(){e.showMarkersDiv()?(autocompleteService.unbindAll(),google.maps.event.clearInstanceListeners(inpElem),e.clearInpFld()):bindAutoComplete()},e.enableMapClickMarker=ko.observable(!localStorage.enableMapClickMarker||"true"===localStorage.enableMapClickMarker),e.showMapClickSnackBarMsg=function(){var t=document.getElementById("snackbar");t.className="show",t.innerText=(e.enableMapClickMarker()?"Enabled":"Disabled")+" creation of marker on map click",setTimeout(function(){t.className=t.className.replace("show","")},3e3),localStorage.enableMapClickMarker=e.enableMapClickMarker()},e.markers=ko.observableArray(),e.searchText=ko.observable(""),e.filteredMarkers=ko.computed(function(){if(e.searchText()){var t=e.searchText().toLowerCase();return ko.utils.arrayFilter(e.markers(),function(e){return e.locationName.toLowerCase().indexOf(t)!==-1})}return e.markers()}),e.placeIds=ko.computed(function(){for(var t={},n=0;n<e.markers().length;n++){var i=e.markers()[n].place;i&&(t[i.place_id]="")}return t}),e.addMarker=function(n){if(!(n.place_id in e.placeIds())){var i=new google.maps.Marker({position:n.geometry.location,map:map});n.formatted_address?i.locationName=n.formatted_address:i.locationName=n.name,i.place=n,i.content="NA",ajaxWiki(n.name,function(e){i.wiki=e,i.content=t.replace("%content%",e.content).replace("%title%",e.title).replace("%wikilink%",e.url)},function(e){snackbarAlert(e)}),i.showInfo=function(){infoWindow.setContent(this.content),infoWindow.open(map,this)},i.animatedInfo=function(){var e=this;e.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){e.setAnimation(null),e.showInfo()},1e3)},e.markers.push(i),google.maps.event.addListener(i,"click",i.animatedInfo)}},e.removeMarker=function(t){e.markers.remove(t),t.setMap(null)},e.gotoMarkerLocation=function(e){gotoPlace(e.place),e.animatedInfo()},e.clearInpFld=function(){e.searchText("")},e.savePlaces=ko.computed(function(){if(0!==e.markers().length){var t=[];e.markers().forEach(function(e){t.push(e.place)},this),localStorage.setItem("places",ko.toJSON(t))}})},vm,map,infoWindow,placeService,autocompleteService,inpElem=document.getElementById("searchInput"),wikiQryUrl="https://en.wikipedia.org/w/api.php?action=opensearch&limit=1&format=json&origin=*&search=",bindAutoComplete=function(){autocompleteService=new google.maps.places.Autocomplete(inpElem),autocompleteService.bindTo("bounds",map),autocompleteService.addListener("place_changed",addMarkerFromSearch)},snackbarAlert=function(e){var t=document.getElementById("snackbar");t.className="showAlert",t.innerText=e,setTimeout(function(){t.className=t.className.replace("showAlert","")},3e3)},initMap=function(){var e=document.getElementById("mapdiv"),t={types:["neighborhood","regions","cities"]},n=new google.maps.LatLng(13.0827,80.2707);map=new google.maps.Map(e,{center:n,zoom:12,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.LEFT_BOTTOM}}),map.addListener("click",function(e){vm.enableMapClickMarker()&&(t.location=e.latLng,placeService.nearbySearch(t,addMarkerByClickCallback))}),infoWindow=new google.maps.InfoWindow,placeService=new google.maps.places.PlacesService(map),t.rankBy=google.maps.places.RankBy.DISTANCE,bindAutoComplete();var i;i=localStorage.places?ko.utils.parseJson(localStorage.getItem("places")):loadDefLocs(),i.forEach(function(e){vm.addMarker(e)},this)},addMarkerByClickCallback=function(e,t){if(t!==google.maps.places.PlacesServiceStatus.OK)return void snackbarAlert("Failed to get place details.");if(0===e.length)return void snackbarAlert("no neighborhood found at the selected location");var n=e[0];return gotoPlace(n)?void vm.addMarker(e[0]):void 0},addMarkerFromSearch=function(){var e=autocompleteService.getPlace();gotoPlace(e)&&vm.addMarker(e)},gotoPlace=function(e){return!!e.geometry&&(e.geometry.viewport?map.fitBounds(e.geometry.viewport):(map.setCenter(e.geometry.location),map.setZoom(17)),!0)};ko.bindingHandlers.toggleClick={init:function(e,t){var n=t();ko.utils.registerEventHandler(e,"click",function(){n(!n())})}},vm=new ViewModel,ko.applyBindings(vm);var ajaxWiki=function(e,t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(this.readyState==XMLHttpRequest.DONE){if(200==this.status){var i=JSON.parse(this.responseText);if(0===i[1].length||0===i[2].length||0===i[3].length)return void n("No wiki page found for "+e);var o={};return o.searchTerm=i[0],o.title=i[1][0],o.content=i[2][0],o.url=i[3][0],void t(o)}return void n(this.responseText+e)}};var o=wikiQryUrl+encodeURIComponent(e);i.open("GET",o,!0),i.send()};